import{a as V}from"./chunk-ZFFVO34L.js";import{b as j,c as q,f as U,h as G,n as H,o as Z}from"./chunk-WIAEWHLW.js";import{a as A,b as J}from"./chunk-QSS7O3KV.js";import{d as k,f as z,g as O}from"./chunk-3KQDNKNL.js";import{k as L,l as P,m as B}from"./chunk-B35W4A7H.js";import{Ab as c,Da as x,Db as y,Eb as N,Ga as s,Kb as v,La as w,Qa as W,Va as _,ab as d,db as r,ea as g,eb as i,fa as u,fb as M,gb as T,hb as I,ib as S,lb as b,mb as E,sb as F,tb as o,vb as R,yb as f,zb as C}from"./chunk-WMTXBNFA.js";var D=class{id;rateConNumber;shipperName;shipperContact;shipperEmail;invoiceEmail;originAddress;destinationAddress;loadDescription;deliveryRequirements;rate;status;documents;constructor(){this.id="",this.rateConNumber="",this.shipperName="",this.shipperContact="",this.shipperEmail="",this.invoiceEmail="",this.originAddress=new V,this.destinationAddress=new V,this.loadDescription="",this.deliveryRequirements="",this.rate=0,this.status="Pending",this.documents=[]}};var h=l=>({"border-red-500":l}),Q=(l,n)=>({"text-green-700":l,"text-red-700":n});function X(l,n){if(l&1){let a=S();r(0,"li",36)(1,"a",37)(2,"span"),o(3,"\u{1F4C4}"),i(),o(4),i(),r(5,"button",38),b("click",function(){let m=g(a).index,p=E(2);return u(p.removeDocument(m))}),o(6,"Delete"),i()()}if(l&2){let a=n.$implicit;s(),d("href",a.url,x),s(3),R(" ",a.name," ")}}function Y(l,n){if(l&1&&(T(0),r(1,"ul",34),_(2,X,7,2,"li",35),i(),I()),l&2){let a=E();s(2),d("ngForOf",a.rateConfirmation.documents)}}function $(l,n){l&1&&(r(0,"div",39),o(1,"No documents available."),i())}function ee(l,n){l&1&&(r(0,"span",40),o(1,"Fill all fields to enable Accept"),i())}function te(l,n){l&1&&(r(0,"span",40),o(1,"Enter a valid phone number for Contact"),i())}function ie(l,n){if(l&1&&(_(0,te,2,0,"span",41),M(1,"br")),l&2){let a=E();d("ngIf",!a.isContactValid(a.rateConfirmation.shipperContact))}}function ne(l,n){if(l&1&&(r(0,"span",42),o(1),i()),l&2){let a=E();d("ngClass",N(2,Q,a.rateConfirmation.status==="Confirmed",a.rateConfirmation.status==="Rejected")),s(),R(" Status: ",a.rateConfirmation.status," ")}}var K=class l{constructor(n,a,e){this.router=n;this.route=a;this.rateConfirmationsService=e}rateConfirmation=new D;id="";ngOnInit(){let n=this.route.snapshot.paramMap.get("id")||"";n!="new"&&(this.id=n,this.rateConfirmationsService.getRateConfirmation(this.id).subscribe(a=>{this.rateConfirmation=a}))}accept(){this.rateConfirmation.status="Confirmed",this.router.navigate(["/dispatcher/sign-rate-confirmation",this.id])}delete(){this.rateConfirmation&&(this.rateConfirmation.status="Rejected")}addDocument(){this.rateConfirmation.documents||(this.rateConfirmation.documents=[]),this.rateConfirmation.documents.push({name:"",url:""})}removeDocument(n){this.rateConfirmation.documents&&this.rateConfirmation.documents.splice(n,1)}onFileSelected(n){let a=n.target;if(a.files&&a.files.length>0){let e=a.files[0],m=URL.createObjectURL(e);this.rateConfirmation.documents=this.rateConfirmation.documents||[],this.rateConfirmation.documents.push({name:A.RATE_CONFIRMATION,url:m})}}isFieldEmpty(n){return n==null||n===""}isAnyFieldEmpty(){let n=this.rateConfirmation;return!!(this.isFieldEmpty(n.rateConNumber)||this.isFieldEmpty(n.shipperName)||this.isFieldEmpty(n.shipperContact)||this.isFieldEmpty(n.shipperEmail)||this.isFieldEmpty(n.invoiceEmail)||this.isFieldEmpty(n.originAddress?.street)||this.isFieldEmpty(n.originAddress?.city)||this.isFieldEmpty(n.originAddress?.state)||this.isFieldEmpty(n.originAddress?.zip)||this.isFieldEmpty(n.destinationAddress?.street)||this.isFieldEmpty(n.destinationAddress?.city)||this.isFieldEmpty(n.destinationAddress?.state)||this.isFieldEmpty(n.destinationAddress?.zip)||this.isFieldEmpty(n.loadDescription)||this.isFieldEmpty(n.rate)||this.isFieldEmpty(n.deliveryRequirements)||this.isFieldEmpty(n.documents)||n.documents&&!n.documents.some(a=>a.name===A.RATE_CONFIRMATION)||n.documents&&n.documents.some(a=>this.isFieldEmpty(a.name)||this.isFieldEmpty(a.url)))}isContactValid(n){let a=/^\([0-9]+\)[0-9]+\-[0-9]+$/;return n.length>=10}isAnyFieldEmptyOrInvalid(){return this.isAnyFieldEmpty()||!this.isContactValid(this.rateConfirmation.shipperContact)}static \u0275fac=function(a){return new(a||l)(w(z),w(k),w(J))};static \u0275cmp=W({type:l,selectors:[["app-rate-confirmation-detail"]],decls:98,vars:71,consts:[["noDocs",""],["fieldLevelErrors",""],[1,"mx-auto","p-6","bg-white","rounded-xl","shadow-lg"],[1,"mb-4"],["routerLink","/dispatcher/rate-confirmations",1,"text-green-800","hover:underline","flex","items-center","gap-1","font-medium"],[1,"text-xl"],[1,"text-3xl","font-bold","mb-4","text-green-900","flex","items-center","gap-2"],[1,"mb-4","flex","items-center","justify-end","gap-4"],[1,"text-lg","font-semibold","text-green-800"],[1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","w-48","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors","ml-2",3,"ngModelChange","ngModel","ngClass"],[1,"mb-4","bg-green-50","rounded","p-4"],[1,"font-semibold","text-lg","mb-2","text-green-900","flex","items-center","gap-2","bg-green-100","px-3","py-2","rounded"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-2"],[1,"font-semibold"],[1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-2","w-full","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["type","tel","minlength","10","placeholder","(123)456-7890 ext 123",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-2","w-full","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],[1,"flex","flex-col","sm:flex-row","gap-6"],[1,"flex-1","bg-gray-50","rounded","p-4"],["placeholder","Street",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-full","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["placeholder","City",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-1/2","mr-1","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["placeholder","State",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-1/4","mr-1","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["placeholder","ZIP",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-1/4","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["type","number",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-green-700","font-bold","text-lg","mb-2","w-32","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],[1,"sm:col-span-2"],[4,"ngIf","ngIfElse"],[1,"mt-2","flex","items-center","gap-2"],["type","file",1,"block",3,"change"],["class","text-red-600 text-sm font-medium ml-2",4,"ngIf","ngIfElse"],[1,"flex","flex-wrap","gap-4","mt-6","items-center"],[1,"bg-green-600","hover:bg-green-700","text-white","px-6","py-2","rounded","shadow","font-semibold","transition","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],[1,"bg-red-600","hover:bg-red-700","text-white","px-6","py-2","rounded","shadow","font-semibold","transition",3,"click","disabled"],["routerLink","/dispatcher/rate-confirmations",1,"bg-gray-200","hover:bg-gray-300","text-green-900","px-6","py-2","rounded","shadow","flex","items-center","gap-1","font-semibold","transition"],[1,"text-lg"],["class","ml-4 font-semibold text-lg",3,"ngClass",4,"ngIf"],[1,"list-disc","pl-6","space-y-2"],["class","flex items-center gap-2",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-2"],["target","_blank",1,"text-blue-700","hover:underline","flex","items-center","gap-1","font-medium",3,"href"],[1,"text-red-600","hover:underline","ml-2",3,"click"],[1,"text-gray-500","italic"],[1,"text-red-600","text-sm","font-medium","ml-2"],["class","text-red-600 text-sm font-medium ml-2",4,"ngIf"],[1,"ml-4","font-semibold","text-lg",3,"ngClass"]],template:function(a,e){if(a&1){let m=S();r(0,"div",2)(1,"div",3)(2,"a",4)(3,"span",5),o(4,"\u2190"),i(),o(5," Go Back "),i()(),r(6,"h2",6)(7,"span"),o(8,"\u{1F4D1}"),i(),o(9," RateCon Details "),i(),r(10,"div",7)(11,"div",8),o(12," RateCon Number: "),r(13,"input",9),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.rateConNumber,t)||(e.rateConfirmation.rateConNumber=t),u(t)}),i()()(),r(14,"div",10)(15,"h3",11)(16,"span"),o(17,"\u{1F69A}"),i(),o(18," Shipper Information "),i(),r(19,"div",12)(20,"div")(21,"span",13),o(22,"Name:"),i(),r(23,"input",14),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.shipperName,t)||(e.rateConfirmation.shipperName=t),u(t)}),i()(),r(24,"div")(25,"span",13),o(26,"Contact:"),i(),r(27,"input",15),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.shipperContact,t)||(e.rateConfirmation.shipperContact=t),u(t)}),i()(),r(28,"div")(29,"span",13),o(30,"Email:"),i(),r(31,"input",14),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.shipperEmail,t)||(e.rateConfirmation.shipperEmail=t),u(t)}),i()(),r(32,"div")(33,"span",13),o(34,"Invoice Email:"),i(),r(35,"input",14),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.invoiceEmail,t)||(e.rateConfirmation.invoiceEmail=t),u(t)}),i()()()(),r(36,"div",3)(37,"h3",11)(38,"span"),o(39,"\u{1F5FA}\uFE0F"),i(),o(40," Route "),i(),r(41,"div",16)(42,"div",17)(43,"span",13),o(44,"Origin:"),i(),r(45,"input",18),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.originAddress.street,t)||(e.rateConfirmation.originAddress.street=t),u(t)}),i(),r(46,"input",19),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.originAddress.city,t)||(e.rateConfirmation.originAddress.city=t),u(t)}),i(),r(47,"input",20),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.originAddress.state,t)||(e.rateConfirmation.originAddress.state=t),u(t)}),i(),r(48,"input",21),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.originAddress.zip,t)||(e.rateConfirmation.originAddress.zip=t),u(t)}),i()(),r(49,"div",17)(50,"span",13),o(51,"Destination:"),i(),r(52,"input",18),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.destinationAddress.street,t)||(e.rateConfirmation.destinationAddress.street=t),u(t)}),i(),r(53,"input",19),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.destinationAddress.city,t)||(e.rateConfirmation.destinationAddress.city=t),u(t)}),i(),r(54,"input",20),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.destinationAddress.state,t)||(e.rateConfirmation.destinationAddress.state=t),u(t)}),i(),r(55,"input",21),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.destinationAddress.zip,t)||(e.rateConfirmation.destinationAddress.zip=t),u(t)}),i()()()(),r(56,"div",3)(57,"h3",11)(58,"span"),o(59,"\u{1F4E6}"),i(),o(60," Load Details "),i(),r(61,"div",12)(62,"div")(63,"span",13),o(64,"Description:"),i(),r(65,"input",14),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.loadDescription,t)||(e.rateConfirmation.loadDescription=t),u(t)}),i()(),r(66,"div")(67,"span",13),o(68,"Rate:"),i(),M(69,"br"),r(70,"input",22),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.rate,t)||(e.rateConfirmation.rate=t),u(t)}),i()(),r(71,"div",23)(72,"span",13),o(73,"Delivery Requirements:"),i(),r(74,"input",14),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.deliveryRequirements,t)||(e.rateConfirmation.deliveryRequirements=t),u(t)}),i()()()(),r(75,"div",3)(76,"h3",11)(77,"span"),o(78,"\u{1F4C4}"),i(),o(79," Rate Confirmation Documents "),i(),_(80,Y,3,1,"ng-container",24)(81,$,2,0,"ng-template",null,0,v),r(83,"div",25)(84,"input",26),b("change",function(t){return g(m),u(e.onFileSelected(t))}),i()()(),_(85,ee,2,0,"span",27)(86,ie,2,1,"ng-template",null,1,v),r(88,"div",28)(89,"button",29),b("click",function(){return g(m),u(e.accept())}),o(90," Accept "),i(),r(91,"button",30),b("click",function(){return g(m),u(e.delete())}),o(92," Delete "),i(),r(93,"a",31)(94,"span",32),o(95,"\u2190"),i(),o(96," Go Back "),i(),_(97,ne,2,5,"span",33),i()()}if(a&2){let m=F(82),p=F(87);s(13),f("ngModel",e.rateConfirmation.rateConNumber),d("ngClass",y(39,h,e.isFieldEmpty(e.rateConfirmation.rateConNumber))),s(10),f("ngModel",e.rateConfirmation.shipperName),d("ngClass",y(41,h,e.isFieldEmpty(e.rateConfirmation.shipperName))),s(4),f("ngModel",e.rateConfirmation.shipperContact),d("ngClass",y(43,h,!e.isContactValid(e.rateConfirmation.shipperContact))),s(4),f("ngModel",e.rateConfirmation.shipperEmail),d("ngClass",y(45,h,e.isFieldEmpty(e.rateConfirmation.shipperEmail))),s(4),f("ngModel",e.rateConfirmation.invoiceEmail),d("ngClass",y(47,h,e.isFieldEmpty(e.rateConfirmation.invoiceEmail))),s(10),f("ngModel",e.rateConfirmation.originAddress.street),d("ngClass",y(49,h,e.isFieldEmpty(e.rateConfirmation.originAddress.street))),s(),f("ngModel",e.rateConfirmation.originAddress.city),d("ngClass",y(51,h,e.isFieldEmpty(e.rateConfirmation.originAddress.city))),s(),f("ngModel",e.rateConfirmation.originAddress.state),d("ngClass",y(53,h,e.isFieldEmpty(e.rateConfirmation.originAddress.state))),s(),f("ngModel",e.rateConfirmation.originAddress.zip),d("ngClass",y(55,h,e.isFieldEmpty(e.rateConfirmation.originAddress.zip))),s(4),f("ngModel",e.rateConfirmation.destinationAddress.street),d("ngClass",y(57,h,e.isFieldEmpty(e.rateConfirmation.destinationAddress.street))),s(),f("ngModel",e.rateConfirmation.destinationAddress.city),d("ngClass",y(59,h,e.isFieldEmpty(e.rateConfirmation.destinationAddress.city))),s(),f("ngModel",e.rateConfirmation.destinationAddress.state),d("ngClass",y(61,h,e.isFieldEmpty(e.rateConfirmation.destinationAddress.state))),s(),f("ngModel",e.rateConfirmation.destinationAddress.zip),d("ngClass",y(63,h,e.isFieldEmpty(e.rateConfirmation.destinationAddress.zip))),s(10),f("ngModel",e.rateConfirmation.loadDescription),d("ngClass",y(65,h,e.isFieldEmpty(e.rateConfirmation.loadDescription))),s(5),f("ngModel",e.rateConfirmation.rate),d("ngClass",y(67,h,e.isFieldEmpty(e.rateConfirmation.rate))),s(4),f("ngModel",e.rateConfirmation.deliveryRequirements),d("ngClass",y(69,h,e.isFieldEmpty(e.rateConfirmation.deliveryRequirements))),s(6),d("ngIf",e.rateConfirmation.documents==null?null:e.rateConfirmation.documents.length)("ngIfElse",m),s(5),d("ngIf",e.isAnyFieldEmpty())("ngIfElse",p),s(4),d("disabled",e.isAnyFieldEmptyOrInvalid()),s(2),d("disabled",e.rateConfirmation.status==="Rejected"),s(6),d("ngIf",e.rateConfirmation.status!=="Pending")}},dependencies:[B,P,L,O,Z,j,G,q,H,U],styles:[".input-edit[_ngcontent-%COMP%]{border:1px solid #4b5563;border-radius:.375rem;padding:.5rem .75rem;background:#fff;color:#111827;font-size:1rem;margin-bottom:.5rem;width:100%;box-sizing:border-box;transition:border-color .2s}.input-edit[_ngcontent-%COMP%]:focus{outline:none;border-color:#059669;box-shadow:0 0 0 2px #bbf7d0}"]})};export{K as RateConfirmationDetailComponent};
