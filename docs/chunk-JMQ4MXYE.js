import{a as C}from"./chunk-JYZQW2UA.js";import{f as S}from"./chunk-3KQDNKNL.js";import{l as w,m as y,o as E}from"./chunk-B35W4A7H.js";import{Ga as o,Hb as b,Jb as _,La as m,Qa as f,Va as p,ab as c,db as i,ea as u,eb as e,fa as g,ib as D,lb as v,mb as x,tb as n,ub as d,vb as h}from"./chunk-WMTXBNFA.js";function F(a,r){a&1&&(i(0,"span",15),n(1,"\u26A0\uFE0F"),e())}function M(a,r){if(a&1){let t=D();i(0,"tr",10)(1,"td",11),n(2),e(),i(3,"td",12),n(4),e(),i(5,"td",12),n(6),e(),i(7,"td",12),p(8,F,2,0,"span",13),n(9),b(10,"date"),e(),i(11,"td",12),n(12),e(),i(13,"td",12)(14,"button",14),v("click",function(){let s=u(t).$implicit,k=x();return g(k.viewDriver(s))}),n(15," View "),e()()()}if(a&2){let t=r.$implicit,l=x();o(2),d(t.name),o(2),d(t.phone),o(2),d(t.license),o(2),c("ngIf",l.isLicenseExpiringSoon(t.expirationDate)),o(),h(" ",_(10,6,t.expirationDate,"MM/dd/yyyy")," "),o(3),d((t.truck==null?null:t.truck.plate)||"\u2014")}}var I=class a{constructor(r,t){this.driversService=r;this.router=t}drivers=[];ngOnInit(){this.driversService.getDrivers().subscribe(r=>{this.drivers=r})}addDriver(){alert("Add Driver clicked")}viewDriver(r){this.router.navigate(["/dispatcher/drivers",r.id])}isLicenseExpiringSoon(r){let t=new Date(r),l=new Date,s=new Date;return s.setMonth(l.getMonth()+1),t<s}static \u0275fac=function(t){return new(t||a)(m(C),m(S))};static \u0275cmp=f({type:a,selectors:[["app-drivers"]],decls:26,vars:1,consts:[[1,"p-6","pt-0"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-3xl","font-bold","text-green-900","flex","items-center","gap-2"],[1,"bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded","shadow","font-semibold","transition",3,"click"],[1,"overflow-x-auto","rounded-lg","shadow-lg","bg-white"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-green-900","text-white"],[1,"px-4","py-3","text-left","font-semibold"],[1,"bg-white","divide-y","divide-gray-100"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[1,"hover:bg-green-50","transition"],[1,"px-4","py-2","font-medium","text-green-900"],[1,"px-4","py-2"],["title","License expired or expiring soon","class","text-yellow-500 align-middle ml-1",4,"ngIf"],[1,"bg-blue-600","hover:bg-blue-700","transition","text-white","px-3","py-1","rounded","shadow",3,"click"],["title","License expired or expiring soon",1,"text-yellow-500","align-middle","ml-1"]],template:function(t,l){t&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span"),n(4,"\u{1F9D1}\u200D\u2708\uFE0F"),e(),n(5," Drivers "),e(),i(6,"button",3),v("click",function(){return l.addDriver()}),n(7," + Add Driver "),e()(),i(8,"div",4)(9,"table",5)(10,"thead",6)(11,"tr")(12,"th",7),n(13,"Name"),e(),i(14,"th",7),n(15,"Phone"),e(),i(16,"th",7),n(17,"License #"),e(),i(18,"th",7),n(19,"Exp. Date"),e(),i(20,"th",7),n(21,"Assigned Truck"),e(),i(22,"th",7),n(23,"Actions"),e()()(),i(24,"tbody",8),p(25,M,16,9,"tr",9),e()()()()),t&2&&(o(25),c("ngForOf",l.drivers))},dependencies:[w,y,E],encapsulation:2})};export{I as DriversComponent};
