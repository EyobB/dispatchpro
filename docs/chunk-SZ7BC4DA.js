import{a as L}from"./chunk-NSSVMM7K.js";import{b as N,c as D,f as O,i as P,j as V,k as W,o as A}from"./chunk-WIAEWHLW.js";import{f as F}from"./chunk-3KQDNKNL.js";import{k,l as B,m as M,p as T}from"./chunk-B35W4A7H.js";import{Ab as I,Fb as y,Ga as s,Hb as C,Jb as E,La as u,Qa as _,Va as v,ab as c,db as n,ea as x,eb as t,fa as S,ib as b,lb as p,mb as w,tb as o,ub as m,vb as g,yb as f,zb as h}from"./chunk-WMTXBNFA.js";var R=(a,i,e)=>({"bg-green-100 text-green-800":a,"bg-yellow-100 text-yellow-800":i,"bg-red-100 text-red-800":e});function q(a,i){if(a&1&&(n(0,"option",14),o(1),t()),a&2){let e=i.$implicit;c("value",e),s(),m(e)}}function z(a,i){if(a&1){let e=b();n(0,"tr",15)(1,"td",16),o(2),t(),n(3,"td",17),o(4),t(),n(5,"td",17),o(6),t(),n(7,"td",17),o(8),C(9,"number"),t(),n(10,"td",17)(11,"span",18),o(12),t()(),n(13,"td",17)(14,"button",19),p("click",function(){let d=x(e).$implicit,l=w();return S(l.viewInvoice(d))}),o(15," View "),t()()()}if(a&2){let e=i.$implicit;s(2),m(e.number),s(2),m(e.customer),s(2),m(e.date),s(2),g("$",E(9,6,e.amount,"1.2-2"),""),s(3),c("ngClass",y(9,R,e.status==="Paid",e.status==="Pending",e.status==="Overdue")),s(),g(" ",e.status," ")}}function G(a,i){a&1&&(n(0,"tr")(1,"td",20),o(2,"No invoices found."),t()())}var j=class a{constructor(i,e){this.router=i;this.invoicesService=e}invoices=[];filteredInvoices=[];statuses=["Paid","Pending","Overdue"];searchTerm="";selectedStatus="";ngOnInit(){this.invoicesService.getInvoices().subscribe(i=>{this.invoices=i,this.filteredInvoices=this.invoices},i=>{console.error("Error loading invoices:",i)})}filterInvoices(){this.filteredInvoices=this.invoices.filter(i=>{let e=this.selectedStatus?i.status===this.selectedStatus:!0,r=this.searchTerm?(i.number+i.customer+i.status).toLowerCase().includes(this.searchTerm.toLowerCase()):!0;return e&&r})}viewInvoice(i){this.router.navigate(["/dispatcher/broker-invoices",i.id])}static \u0275fac=function(e){return new(e||a)(u(F),u(L))};static \u0275cmp=_({type:a,selectors:[["app-invoices"]],decls:30,vars:5,consts:[[1,"flex","items-center","justify-between","mb-6"],[1,"text-3xl","font-bold","text-green-900","flex","items-center","gap-2"],[1,"mb-4","flex","flex-col","sm:flex-row","gap-2","sm:items-center"],["type","text","placeholder","Search by Invoice #, Customer, or Status",1,"border","border-green-200","rounded","p-2","w-full","sm:w-64",3,"ngModelChange","input","ngModel"],[1,"border","border-green-200","rounded","p-2","w-full","sm:w-48",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"overflow-x-auto","rounded-lg","shadow","bg-white"],[1,"min-w-full","divide-y","divide-green-100"],[1,"bg-green-900","text-white"],[1,"px-4","py-2","text-left","font-semibold"],[1,"bg-white","divide-y","divide-green-50"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"hover:bg-green-50","transition"],[1,"px-4","py-2","font-semibold"],[1,"px-4","py-2"],[1,"px-2","py-1","rounded","text-xs","font-semibold",3,"ngClass"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-3","py-1","rounded","shadow",3,"click"],["colspan","6",1,"text-center","text-gray-500","py-6"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"h2",1)(2,"span"),o(3,"\u{1F9FE}"),t(),o(4,"Broker Invoices "),t()(),n(5,"div",2)(6,"input",3),I("ngModelChange",function(l){return h(r.searchTerm,l)||(r.searchTerm=l),l}),p("input",function(){return r.filterInvoices()}),t(),n(7,"select",4),I("ngModelChange",function(l){return h(r.selectedStatus,l)||(r.selectedStatus=l),l}),p("change",function(){return r.filterInvoices()}),n(8,"option",5),o(9,"All Statuses"),t(),v(10,q,2,2,"option",6),t()(),n(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),o(16,"Invoice #"),t(),n(17,"th",10),o(18,"Customer"),t(),n(19,"th",10),o(20,"Date"),t(),n(21,"th",10),o(22,"Amount"),t(),n(23,"th",10),o(24,"Status"),t(),n(25,"th",10),o(26,"Actions"),t()()(),n(27,"tbody",11),v(28,z,16,13,"tr",12)(29,G,3,0,"tr",13),t()()()),e&2&&(s(6),f("ngModel",r.searchTerm),s(),f("ngModel",r.selectedStatus),s(3),c("ngForOf",r.statuses),s(18),c("ngForOf",r.filteredInvoices),s(),c("ngIf",r.filteredInvoices.length===0))},dependencies:[A,V,W,N,P,D,O,T,B,k,M],encapsulation:2})};export{j as BrokerInvoicesComponent};
