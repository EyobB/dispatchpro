import{b as j,c as q,f as U,h as G,o as H}from"./chunk-7VXK63W2.js";import{a as F,b as Z}from"./chunk-WUNWLIZ6.js";import{c as k,e as z,f as O}from"./chunk-NLBBH4OK.js";import{k as L,l as P,m as B}from"./chunk-ZMPNCMD4.js";import{Cb as y,Db as x,Ea as R,Ia as s,Ib as I,Na as E,Sa as v,X as p,Xa as _,Y as g,cb as l,eb as r,fb as i,gb as W,hb as V,ib as T,jb as S,mb as w,nb as D,rb as N,sb as o,ub as A,xb as f,yb as C,zb as c}from"./chunk-LZRDGPC4.js";var b=class{street;city;state;zip;constructor(){this.street="",this.city="",this.state="",this.zip=""}};var M=class{id;rateConNumber;shipperName;shipperContact;shipperEmail;invoiceEmail;originAddress;destinationAddress;loadDescription;deliveryRequirements;rate;status;documents;constructor(){this.id="",this.rateConNumber="",this.shipperName="",this.shipperContact="",this.shipperEmail="",this.invoiceEmail="",this.originAddress=new b,this.destinationAddress=new b,this.loadDescription="",this.deliveryRequirements="",this.rate=0,this.status="Pending",this.documents=[]}};var h=m=>({"border-red-500":m}),K=(m,n)=>({"text-green-700":m,"text-red-700":n});function Q(m,n){if(m&1){let a=S();r(0,"li",34)(1,"a",35)(2,"span"),o(3,"\u{1F4C4}"),i(),o(4),i(),r(5,"button",36),w("click",function(){let d=p(a).index,u=D(2);return g(u.removeDocument(d))}),o(6,"Delete"),i()()}if(m&2){let a=n.$implicit;s(),l("href",a.url,R),s(3),A(" ",a.name," ")}}function X(m,n){if(m&1&&(V(0),r(1,"ul",32),_(2,Q,7,2,"li",33),i(),T()),m&2){let a=D();s(2),l("ngForOf",a.rateConfirmation.documents)}}function Y(m,n){m&1&&(r(0,"div",37),o(1,"No documents available."),i())}function $(m,n){m&1&&(r(0,"span",38),o(1,"Fill all fields to enable Accept"),i())}function ee(m,n){if(m&1&&(r(0,"span",39),o(1),i()),m&2){let a=D();l("ngClass",x(2,K,a.rateConfirmation.status==="Confirmed",a.rateConfirmation.status==="Rejected")),s(),A(" Status: ",a.rateConfirmation.status," ")}}var J=class m{constructor(n,a,e){this.router=n;this.route=a;this.rateConfirmationsService=e}rateConfirmation=new M;id="";ngOnInit(){let n=this.route.snapshot.paramMap.get("id")||"";n!="new"&&(this.id=n,this.rateConfirmationsService.getRateConfirmation(this.id).subscribe(a=>{this.rateConfirmation=a}))}accept(){this.rateConfirmation.status="Confirmed",this.router.navigate(["/dispatcher/sign-rate-confirmation",this.id])}delete(){this.rateConfirmation&&(this.rateConfirmation.status="Rejected")}addDocument(){this.rateConfirmation.documents||(this.rateConfirmation.documents=[]),this.rateConfirmation.documents.push({name:"",url:""})}removeDocument(n){this.rateConfirmation.documents&&this.rateConfirmation.documents.splice(n,1)}onFileSelected(n){let a=n.target;if(a.files&&a.files.length>0){let e=a.files[0],d=URL.createObjectURL(e);this.rateConfirmation.documents=this.rateConfirmation.documents||[],this.rateConfirmation.documents.push({name:F.RATE_CONFIRMATION,url:d})}}isFieldEmpty(n){return n==null||n===""}isAnyFieldEmpty(){let n=this.rateConfirmation;return!!(this.isFieldEmpty(n.rateConNumber)||this.isFieldEmpty(n.shipperName)||this.isFieldEmpty(n.shipperContact)||this.isFieldEmpty(n.shipperEmail)||this.isFieldEmpty(n.invoiceEmail)||this.isFieldEmpty(n.originAddress?.street)||this.isFieldEmpty(n.originAddress?.city)||this.isFieldEmpty(n.originAddress?.state)||this.isFieldEmpty(n.originAddress?.zip)||this.isFieldEmpty(n.destinationAddress?.street)||this.isFieldEmpty(n.destinationAddress?.city)||this.isFieldEmpty(n.destinationAddress?.state)||this.isFieldEmpty(n.destinationAddress?.zip)||this.isFieldEmpty(n.loadDescription)||this.isFieldEmpty(n.rate)||this.isFieldEmpty(n.deliveryRequirements)||this.isFieldEmpty(n.documents)||n.documents&&!n.documents.some(a=>a.name===F.RATE_CONFIRMATION)||n.documents&&n.documents.some(a=>this.isFieldEmpty(a.name)||this.isFieldEmpty(a.url)))}static \u0275fac=function(a){return new(a||m)(E(z),E(k),E(Z))};static \u0275cmp=v({type:m,selectors:[["app-rate-confirmation-detail"]],decls:96,vars:70,consts:[["noDocs",""],[1,"mx-auto","p-6","bg-white","rounded-xl","shadow-lg"],[1,"mb-4"],["routerLink","/dispatcher/rate-confirmations",1,"text-green-800","hover:underline","flex","items-center","gap-1","font-medium"],[1,"text-xl"],[1,"text-3xl","font-bold","mb-4","text-green-900","flex","items-center","gap-2"],[1,"mb-4","flex","items-center","gap-4"],[1,"text-lg","font-semibold","text-green-800"],[1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","w-48","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors","ml-2",3,"ngModelChange","ngModel","ngClass"],[1,"mb-4","bg-green-50","rounded","p-4"],[1,"font-semibold","text-lg","mb-2","text-green-900","flex","items-center","gap-2","bg-green-100","px-3","py-2","rounded"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-2"],[1,"font-semibold"],[1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-2","w-full","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],[1,"flex","flex-col","sm:flex-row","gap-6"],[1,"flex-1","bg-gray-50","rounded","p-4"],["placeholder","Street",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-full","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["placeholder","City",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-1/2","mr-1","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["placeholder","State",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-1/4","mr-1","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["placeholder","ZIP",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-1/4","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["type","number",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-green-700","font-bold","text-lg","mb-2","w-32","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],[1,"sm:col-span-2"],[4,"ngIf","ngIfElse"],[1,"mt-2","flex","items-center","gap-2"],["type","file",1,"block",3,"change"],[1,"flex","flex-wrap","gap-4","mt-6","items-center"],[1,"bg-green-600","hover:bg-green-700","text-white","px-6","py-2","rounded","shadow","font-semibold","transition","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],["class","text-red-600 text-sm font-medium ml-2",4,"ngIf"],[1,"bg-red-600","hover:bg-red-700","text-white","px-6","py-2","rounded","shadow","font-semibold","transition",3,"click","disabled"],["routerLink","/dispatcher/rate-confirmations",1,"bg-gray-200","hover:bg-gray-300","text-green-900","px-6","py-2","rounded","shadow","flex","items-center","gap-1","font-semibold","transition"],[1,"text-lg"],["class","ml-4 font-semibold text-lg",3,"ngClass",4,"ngIf"],[1,"list-disc","pl-6","space-y-2"],["class","flex items-center gap-2",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-2"],["target","_blank",1,"text-blue-700","hover:underline","flex","items-center","gap-1","font-medium",3,"href"],[1,"text-red-600","hover:underline","ml-2",3,"click"],[1,"text-gray-500","italic"],[1,"text-red-600","text-sm","font-medium","ml-2"],[1,"ml-4","font-semibold","text-lg",3,"ngClass"]],template:function(a,e){if(a&1){let d=S();r(0,"div",1)(1,"div",2)(2,"a",3)(3,"span",4),o(4,"\u2190"),i(),o(5," Go Back "),i()(),r(6,"h2",5)(7,"span"),o(8,"\u{1F4D1}"),i(),o(9," RateCon Details "),i(),r(10,"div",6)(11,"div",7),o(12," RateCon Number: "),r(13,"input",8),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.rateConNumber,t)||(e.rateConfirmation.rateConNumber=t),g(t)}),i()()(),r(14,"div",9)(15,"h3",10)(16,"span"),o(17,"\u{1F69A}"),i(),o(18," Shipper Information "),i(),r(19,"div",11)(20,"div")(21,"span",12),o(22,"Name:"),i(),r(23,"input",13),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.shipperName,t)||(e.rateConfirmation.shipperName=t),g(t)}),i()(),r(24,"div")(25,"span",12),o(26,"Contact:"),i(),r(27,"input",13),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.shipperContact,t)||(e.rateConfirmation.shipperContact=t),g(t)}),i()(),r(28,"div")(29,"span",12),o(30,"Email:"),i(),r(31,"input",13),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.shipperEmail,t)||(e.rateConfirmation.shipperEmail=t),g(t)}),i()(),r(32,"div")(33,"span",12),o(34,"Invoice Email:"),i(),r(35,"input",13),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.invoiceEmail,t)||(e.rateConfirmation.invoiceEmail=t),g(t)}),i()()()(),r(36,"div",2)(37,"h3",10)(38,"span"),o(39,"\u{1F5FA}\uFE0F"),i(),o(40," Route "),i(),r(41,"div",14)(42,"div",15)(43,"span",12),o(44,"Origin:"),i(),r(45,"input",16),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.originAddress.street,t)||(e.rateConfirmation.originAddress.street=t),g(t)}),i(),r(46,"input",17),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.originAddress.city,t)||(e.rateConfirmation.originAddress.city=t),g(t)}),i(),r(47,"input",18),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.originAddress.state,t)||(e.rateConfirmation.originAddress.state=t),g(t)}),i(),r(48,"input",19),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.originAddress.zip,t)||(e.rateConfirmation.originAddress.zip=t),g(t)}),i()(),r(49,"div",15)(50,"span",12),o(51,"Destination:"),i(),r(52,"input",16),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.destinationAddress.street,t)||(e.rateConfirmation.destinationAddress.street=t),g(t)}),i(),r(53,"input",17),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.destinationAddress.city,t)||(e.rateConfirmation.destinationAddress.city=t),g(t)}),i(),r(54,"input",18),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.destinationAddress.state,t)||(e.rateConfirmation.destinationAddress.state=t),g(t)}),i(),r(55,"input",19),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.destinationAddress.zip,t)||(e.rateConfirmation.destinationAddress.zip=t),g(t)}),i()()()(),r(56,"div",2)(57,"h3",10)(58,"span"),o(59,"\u{1F4E6}"),i(),o(60," Load Details "),i(),r(61,"div",11)(62,"div")(63,"span",12),o(64,"Description:"),i(),r(65,"input",13),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.loadDescription,t)||(e.rateConfirmation.loadDescription=t),g(t)}),i()(),r(66,"div")(67,"span",12),o(68,"Rate:"),i(),W(69,"br"),r(70,"input",20),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.rate,t)||(e.rateConfirmation.rate=t),g(t)}),i()(),r(71,"div",21)(72,"span",12),o(73,"Delivery Requirements:"),i(),r(74,"input",13),c("ngModelChange",function(t){return p(d),C(e.rateConfirmation.deliveryRequirements,t)||(e.rateConfirmation.deliveryRequirements=t),g(t)}),i()()()(),r(75,"div",2)(76,"h3",10)(77,"span"),o(78,"\u{1F4C4}"),i(),o(79," Rate Confirmation Documents "),i(),_(80,X,3,1,"ng-container",22)(81,Y,2,0,"ng-template",null,0,I),r(83,"div",23)(84,"input",24),w("change",function(t){return p(d),g(e.onFileSelected(t))}),i()()(),r(85,"div",25)(86,"button",26),w("click",function(){return p(d),g(e.accept())}),o(87," Accept "),i(),_(88,$,2,0,"span",27),r(89,"button",28),w("click",function(){return p(d),g(e.delete())}),o(90," Delete "),i(),r(91,"a",29)(92,"span",30),o(93,"\u2190"),i(),o(94," Go Back "),i(),_(95,ee,2,5,"span",31),i()()}if(a&2){let d=N(82);s(13),f("ngModel",e.rateConfirmation.rateConNumber),l("ngClass",y(38,h,e.isFieldEmpty(e.rateConfirmation.rateConNumber))),s(10),f("ngModel",e.rateConfirmation.shipperName),l("ngClass",y(40,h,e.isFieldEmpty(e.rateConfirmation.shipperName))),s(4),f("ngModel",e.rateConfirmation.shipperContact),l("ngClass",y(42,h,e.isFieldEmpty(e.rateConfirmation.shipperContact))),s(4),f("ngModel",e.rateConfirmation.shipperEmail),l("ngClass",y(44,h,e.isFieldEmpty(e.rateConfirmation.shipperEmail))),s(4),f("ngModel",e.rateConfirmation.invoiceEmail),l("ngClass",y(46,h,e.isFieldEmpty(e.rateConfirmation.invoiceEmail))),s(10),f("ngModel",e.rateConfirmation.originAddress.street),l("ngClass",y(48,h,e.isFieldEmpty(e.rateConfirmation.originAddress==null?null:e.rateConfirmation.originAddress.street))),s(),f("ngModel",e.rateConfirmation.originAddress.city),l("ngClass",y(50,h,e.isFieldEmpty(e.rateConfirmation.originAddress==null?null:e.rateConfirmation.originAddress.city))),s(),f("ngModel",e.rateConfirmation.originAddress.state),l("ngClass",y(52,h,e.isFieldEmpty(e.rateConfirmation.originAddress==null?null:e.rateConfirmation.originAddress.state))),s(),f("ngModel",e.rateConfirmation.originAddress.zip),l("ngClass",y(54,h,e.isFieldEmpty(e.rateConfirmation.originAddress==null?null:e.rateConfirmation.originAddress.zip))),s(4),f("ngModel",e.rateConfirmation.destinationAddress.street),l("ngClass",y(56,h,e.isFieldEmpty(e.rateConfirmation.destinationAddress==null?null:e.rateConfirmation.destinationAddress.street))),s(),f("ngModel",e.rateConfirmation.destinationAddress.city),l("ngClass",y(58,h,e.isFieldEmpty(e.rateConfirmation.destinationAddress==null?null:e.rateConfirmation.destinationAddress.city))),s(),f("ngModel",e.rateConfirmation.destinationAddress.state),l("ngClass",y(60,h,e.isFieldEmpty(e.rateConfirmation.destinationAddress==null?null:e.rateConfirmation.destinationAddress.state))),s(),f("ngModel",e.rateConfirmation.destinationAddress.zip),l("ngClass",y(62,h,e.isFieldEmpty(e.rateConfirmation.destinationAddress==null?null:e.rateConfirmation.destinationAddress.zip))),s(10),f("ngModel",e.rateConfirmation.loadDescription),l("ngClass",y(64,h,e.isFieldEmpty(e.rateConfirmation.loadDescription))),s(5),f("ngModel",e.rateConfirmation.rate),l("ngClass",y(66,h,e.isFieldEmpty(e.rateConfirmation.rate))),s(4),f("ngModel",e.rateConfirmation.deliveryRequirements),l("ngClass",y(68,h,e.isFieldEmpty(e.rateConfirmation.deliveryRequirements))),s(6),l("ngIf",e.rateConfirmation.documents==null?null:e.rateConfirmation.documents.length)("ngIfElse",d),s(6),l("disabled",e.isAnyFieldEmpty()),s(2),l("ngIf",e.isAnyFieldEmpty()),s(),l("disabled",e.rateConfirmation.status==="Rejected"),s(6),l("ngIf",e.rateConfirmation.status!=="Pending")}},dependencies:[B,P,L,O,H,j,G,q,U],styles:[".input-edit[_ngcontent-%COMP%]{border:1px solid #4b5563;border-radius:.375rem;padding:.5rem .75rem;background:#fff;color:#111827;font-size:1rem;margin-bottom:.5rem;width:100%;box-sizing:border-box;transition:border-color .2s}.input-edit[_ngcontent-%COMP%]:focus{outline:none;border-color:#059669;box-shadow:0 0 0 2px #bbf7d0}"]})};export{J as RateConfirmationDetailComponent};
