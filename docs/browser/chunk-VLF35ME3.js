import{a as G,c as v}from"./chunk-7GTRUKFK.js";import{a as H}from"./chunk-QMNLLXJ7.js";import{b as O,d as Z,g as j,i as q,s as z,u as U}from"./chunk-ZE6XRCVF.js";import{a as J}from"./chunk-2SJWUONA.js";import"./chunk-XPCCV2FB.js";import{c as N,e as P,f as B}from"./chunk-3IYQXLZN.js";import"./chunk-Z3DWEABJ.js";import{k as I,l as A,m as L}from"./chunk-RIFGPENF.js";import{$ as u,Bb as F,Eb as f,Fb as C,Gb as c,Ha as V,Jb as y,Kb as k,La as l,Qa as E,Rb as R,Va as x,_ as g,_a as b,gb as s,kb as o,lb as i,mb as S,nb as W,ob as T,pb as M,sb as h,tb as w,yb as D,zb as r}from"./chunk-OP2CD5JB.js";var _=d=>({"border-red-500":d}),Q=(d,n)=>({"text-green-700":d,"text-red-700":n});function X(d,n){if(d&1){let a=M();o(0,"li",36)(1,"a",37)(2,"span"),r(3,"\u{1F4C4}"),i(),r(4),i(),o(5,"button",38),h("click",function(){let m=g(a).index,p=w(2);return u(p.removeDocument(m))}),r(6,"Delete"),i()()}if(d&2){let a=n.$implicit;l(),s("href",a.url,V),l(3),F(" ",a.documentType," ")}}function Y(d,n){if(d&1&&(W(0),o(1,"ul",34),b(2,X,7,2,"li",35),i(),T()),d&2){let a=w();l(2),s("ngForOf",a.rateConfirmation.documents)}}function $(d,n){d&1&&(o(0,"div",39),r(1,"No documents available."),i())}function ee(d,n){d&1&&(o(0,"span",40),r(1,"Fill all fields to enable Accept"),i())}function te(d,n){d&1&&(o(0,"span",40),r(1,"Enter a valid phone number for Contact"),i())}function ie(d,n){if(d&1&&(b(0,te,2,0,"span",41),S(1,"br")),d&2){let a=w();s("ngIf",!a.isContactValid(a.rateConfirmation.brokerContact))}}function ne(d,n){if(d&1&&(o(0,"span",42),r(1),i()),d&2){let a=w();s("ngClass",k(2,Q,a.rateConfirmation.status==="Confirmed",a.rateConfirmation.status==="Rejected")),l(),F(" Status: ",a.rateConfirmation.status," ")}}var K=class d{constructor(n,a,e){this.router=n;this.route=a;this.rateConService=e}rateConfirmation=new H;id="";ngOnInit(){let n=this.route.snapshot.paramMap.get("id")||"";n!="new"&&(this.id=n,this.rateConService.getRateConfirmation(this.id).subscribe(a=>{this.rateConfirmation=a}))}accept(){this.rateConfirmation.status="Confirmed",this.router.navigate(["/dispatcher/sign-rate-confirmation",this.id])}delete(){this.rateConfirmation&&(this.rateConfirmation.status="Rejected")}addDocument(){this.rateConfirmation.documents||(this.rateConfirmation.documents=[]),this.rateConfirmation.documents.push(new G)}removeDocument(n){this.rateConfirmation.documents&&this.rateConfirmation.documents.splice(n,1)}onFileSelected(n){let a=n.target;if(a.files&&a.files.length>0){let e=a.files[0],m=URL.createObjectURL(e);this.rateConfirmation.documents=this.rateConfirmation.documents||[],this.rateConfirmation.documents.push({id:"1",documentType:v.RATE_CONFIRMATION,url:m,expires:"2025-12-31",fileType:e.type,fileName:e.name})}}isFieldEmpty(n){return n==null||n===""}isAnyFieldEmpty(){let n=this.rateConfirmation;return!!(this.isFieldEmpty(n.loadNumber)||this.isFieldEmpty(n.brokerName)||this.isFieldEmpty(n.brokerContact)||this.isFieldEmpty(n.brokerEmail)||this.isFieldEmpty(n.invoiceEmail)||this.isFieldEmpty(n.originStreetAddress)||this.isFieldEmpty(n.originCity)||this.isFieldEmpty(n.originState)||this.isFieldEmpty(n.originZipcode)||this.isFieldEmpty(n.destinationStreetAddress)||this.isFieldEmpty(n.destinationCity)||this.isFieldEmpty(n.destinationState)||this.isFieldEmpty(n.destinationZipcode)||this.isFieldEmpty(n.loadDescription)||this.isFieldEmpty(n.rate)||this.isFieldEmpty(n.deliveryRequirements)||this.isFieldEmpty(n.documents)||n.documents&&!n.documents.some(a=>a.documentType===v.RATE_CONFIRMATION)||n.documents&&n.documents.some(a=>this.isFieldEmpty(a.documentType)||this.isFieldEmpty(a.url)))}isContactValid(n){let a=/^\([0-9]+\)[0-9]+\-[0-9]+$/;return n.length>=10}isAnyFieldEmptyOrInvalid(){return this.isAnyFieldEmpty()||!this.isContactValid(this.rateConfirmation.brokerContact)}static \u0275fac=function(a){return new(a||d)(E(P),E(N),E(J))};static \u0275cmp=x({type:d,selectors:[["app-rate-confirmation-detail"]],decls:98,vars:71,consts:[["noDocs",""],["fieldLevelErrors",""],[1,"mx-auto","p-6","bg-white","rounded-xl","shadow-lg"],[1,"mb-4"],["routerLink","/dispatcher/rate-confirmations",1,"text-green-800","hover:underline","flex","items-center","gap-1","font-medium"],[1,"text-xl"],[1,"text-3xl","font-bold","mb-4","text-green-900","flex","items-center","gap-2"],[1,"mb-4","flex","items-center","justify-end","gap-4"],[1,"text-lg","font-semibold","text-green-800"],[1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","w-48","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors","ml-2",3,"ngModelChange","ngModel","ngClass"],[1,"mb-4","bg-green-50","rounded","p-4"],[1,"font-semibold","text-lg","mb-2","text-green-900","flex","items-center","gap-2","bg-green-100","px-3","py-2","rounded"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-2"],[1,"font-semibold"],[1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-2","w-full","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["type","tel","minlength","10","placeholder","(123)456-7890 ext 123",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-2","w-full","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],[1,"flex","flex-col","sm:flex-row","gap-6"],[1,"flex-1","bg-gray-50","rounded","p-4"],["placeholder","Street",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-full","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["placeholder","City",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-1/2","mr-1","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["placeholder","State",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-1/4","mr-1","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["placeholder","ZIP",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-gray-900","text-base","mb-1","w-1/4","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],["type","number",1,"border","border-gray-700","rounded-md","px-3","py-2","bg-white","text-green-700","font-bold","text-lg","mb-2","w-32","focus:outline-none","focus:border-green-600","focus:ring-2","focus:ring-green-200","transition-colors",3,"ngModelChange","ngModel","ngClass"],[1,"sm:col-span-2"],[4,"ngIf","ngIfElse"],[1,"mt-2","flex","items-center","gap-2"],["type","file",1,"block",3,"change"],["class","text-red-600 text-sm font-medium ml-2",4,"ngIf","ngIfElse"],[1,"flex","flex-wrap","gap-4","mt-6","items-center"],[1,"bg-green-600","hover:bg-green-700","text-white","px-6","py-2","rounded","shadow","font-semibold","transition","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],[1,"bg-red-600","hover:bg-red-700","text-white","px-6","py-2","rounded","shadow","font-semibold","transition",3,"click","disabled"],["routerLink","/dispatcher/rate-confirmations",1,"bg-gray-200","hover:bg-gray-300","text-green-900","px-6","py-2","rounded","shadow","flex","items-center","gap-1","font-semibold","transition"],[1,"text-lg"],["class","ml-4 font-semibold text-lg",3,"ngClass",4,"ngIf"],[1,"list-disc","pl-6","space-y-2"],["class","flex items-center gap-2",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-2"],["target","_blank",1,"text-blue-700","hover:underline","flex","items-center","gap-1","font-medium",3,"href"],[1,"text-red-600","hover:underline","ml-2",3,"click"],[1,"text-gray-500","italic"],[1,"text-red-600","text-sm","font-medium","ml-2"],["class","text-red-600 text-sm font-medium ml-2",4,"ngIf"],[1,"ml-4","font-semibold","text-lg",3,"ngClass"]],template:function(a,e){if(a&1){let m=M();o(0,"div",2)(1,"div",3)(2,"a",4)(3,"span",5),r(4,"\u2190"),i(),r(5," Go Back "),i()(),o(6,"h2",6)(7,"span"),r(8,"\u{1F4D1}"),i(),r(9," RateCon Details "),i(),o(10,"div",7)(11,"div",8),r(12," RateCon Number: "),o(13,"input",9),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.loadNumber,t)||(e.rateConfirmation.loadNumber=t),u(t)}),i()()(),o(14,"div",10)(15,"h3",11)(16,"span"),r(17,"\u{1F69A}"),i(),r(18," Shipper Information "),i(),o(19,"div",12)(20,"div")(21,"span",13),r(22,"Name:"),i(),o(23,"input",14),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.brokerName,t)||(e.rateConfirmation.brokerName=t),u(t)}),i()(),o(24,"div")(25,"span",13),r(26,"Contact:"),i(),o(27,"input",15),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.brokerContact,t)||(e.rateConfirmation.brokerContact=t),u(t)}),i()(),o(28,"div")(29,"span",13),r(30,"Email:"),i(),o(31,"input",14),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.brokerEmail,t)||(e.rateConfirmation.brokerEmail=t),u(t)}),i()(),o(32,"div")(33,"span",13),r(34,"Invoice Email:"),i(),o(35,"input",14),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.invoiceEmail,t)||(e.rateConfirmation.invoiceEmail=t),u(t)}),i()()()(),o(36,"div",3)(37,"h3",11)(38,"span"),r(39,"\u{1F5FA}\uFE0F"),i(),r(40," Route "),i(),o(41,"div",16)(42,"div",17)(43,"span",13),r(44,"Origin:"),i(),o(45,"input",18),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.originStreetAddress,t)||(e.rateConfirmation.originStreetAddress=t),u(t)}),i(),o(46,"input",19),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.originCity,t)||(e.rateConfirmation.originCity=t),u(t)}),i(),o(47,"input",20),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.originState,t)||(e.rateConfirmation.originState=t),u(t)}),i(),o(48,"input",21),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.originZipcode,t)||(e.rateConfirmation.originZipcode=t),u(t)}),i()(),o(49,"div",17)(50,"span",13),r(51,"Destination:"),i(),o(52,"input",18),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.destinationStreetAddress,t)||(e.rateConfirmation.destinationStreetAddress=t),u(t)}),i(),o(53,"input",19),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.destinationCity,t)||(e.rateConfirmation.destinationCity=t),u(t)}),i(),o(54,"input",20),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.destinationState,t)||(e.rateConfirmation.destinationState=t),u(t)}),i(),o(55,"input",21),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.destinationZipcode,t)||(e.rateConfirmation.destinationZipcode=t),u(t)}),i()()()(),o(56,"div",3)(57,"h3",11)(58,"span"),r(59,"\u{1F4E6}"),i(),r(60," Load Details "),i(),o(61,"div",12)(62,"div")(63,"span",13),r(64,"Description:"),i(),o(65,"input",14),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.loadDescription,t)||(e.rateConfirmation.loadDescription=t),u(t)}),i()(),o(66,"div")(67,"span",13),r(68,"Rate:"),i(),S(69,"br"),o(70,"input",22),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.rate,t)||(e.rateConfirmation.rate=t),u(t)}),i()(),o(71,"div",23)(72,"span",13),r(73,"Delivery Requirements:"),i(),o(74,"input",14),c("ngModelChange",function(t){return g(m),C(e.rateConfirmation.deliveryRequirements,t)||(e.rateConfirmation.deliveryRequirements=t),u(t)}),i()()()(),o(75,"div",3)(76,"h3",11)(77,"span"),r(78,"\u{1F4C4}"),i(),r(79," Rate Confirmation Documents "),i(),b(80,Y,3,1,"ng-container",24)(81,$,2,0,"ng-template",null,0,R),o(83,"div",25)(84,"input",26),h("change",function(t){return g(m),u(e.onFileSelected(t))}),i()()(),b(85,ee,2,0,"span",27)(86,ie,2,1,"ng-template",null,1,R),o(88,"div",28)(89,"button",29),h("click",function(){return g(m),u(e.accept())}),r(90," Accept "),i(),o(91,"button",30),h("click",function(){return g(m),u(e.delete())}),r(92," Delete "),i(),o(93,"a",31)(94,"span",32),r(95,"\u2190"),i(),r(96," Go Back "),i(),b(97,ne,2,5,"span",33),i()()}if(a&2){let m=D(82),p=D(87);l(13),f("ngModel",e.rateConfirmation.loadNumber),s("ngClass",y(39,_,e.isFieldEmpty(e.rateConfirmation.loadNumber))),l(10),f("ngModel",e.rateConfirmation.brokerName),s("ngClass",y(41,_,e.isFieldEmpty(e.rateConfirmation.brokerName))),l(4),f("ngModel",e.rateConfirmation.brokerContact),s("ngClass",y(43,_,!e.isContactValid(e.rateConfirmation.brokerContact))),l(4),f("ngModel",e.rateConfirmation.brokerEmail),s("ngClass",y(45,_,e.isFieldEmpty(e.rateConfirmation.brokerEmail))),l(4),f("ngModel",e.rateConfirmation.invoiceEmail),s("ngClass",y(47,_,e.isFieldEmpty(e.rateConfirmation.invoiceEmail))),l(10),f("ngModel",e.rateConfirmation.originStreetAddress),s("ngClass",y(49,_,e.isFieldEmpty(e.rateConfirmation.originStreetAddress))),l(),f("ngModel",e.rateConfirmation.originCity),s("ngClass",y(51,_,e.isFieldEmpty(e.rateConfirmation.originCity))),l(),f("ngModel",e.rateConfirmation.originState),s("ngClass",y(53,_,e.isFieldEmpty(e.rateConfirmation.originState))),l(),f("ngModel",e.rateConfirmation.originZipcode),s("ngClass",y(55,_,e.isFieldEmpty(e.rateConfirmation.originZipcode))),l(4),f("ngModel",e.rateConfirmation.destinationStreetAddress),s("ngClass",y(57,_,e.isFieldEmpty(e.rateConfirmation.destinationStreetAddress))),l(),f("ngModel",e.rateConfirmation.destinationCity),s("ngClass",y(59,_,e.isFieldEmpty(e.rateConfirmation.destinationCity))),l(),f("ngModel",e.rateConfirmation.destinationState),s("ngClass",y(61,_,e.isFieldEmpty(e.rateConfirmation.destinationState))),l(),f("ngModel",e.rateConfirmation.destinationZipcode),s("ngClass",y(63,_,e.isFieldEmpty(e.rateConfirmation.destinationZipcode))),l(10),f("ngModel",e.rateConfirmation.loadDescription),s("ngClass",y(65,_,e.isFieldEmpty(e.rateConfirmation.loadDescription))),l(5),f("ngModel",e.rateConfirmation.rate),s("ngClass",y(67,_,e.isFieldEmpty(e.rateConfirmation.rate))),l(4),f("ngModel",e.rateConfirmation.deliveryRequirements),s("ngClass",y(69,_,e.isFieldEmpty(e.rateConfirmation.deliveryRequirements))),l(6),s("ngIf",e.rateConfirmation.documents==null?null:e.rateConfirmation.documents.length)("ngIfElse",m),l(5),s("ngIf",e.isAnyFieldEmpty())("ngIfElse",p),l(4),s("disabled",e.isAnyFieldEmptyOrInvalid()),l(2),s("disabled",e.rateConfirmation.status==="Rejected"),l(6),s("ngIf",e.rateConfirmation.status!=="Pending")}},dependencies:[L,A,I,B,U,O,q,Z,z,j],styles:[".input-edit[_ngcontent-%COMP%]{border:1px solid #4b5563;border-radius:.375rem;padding:.5rem .75rem;background:#fff;color:#111827;font-size:1rem;margin-bottom:.5rem;width:100%;box-sizing:border-box;transition:border-color .2s}.input-edit[_ngcontent-%COMP%]:focus{outline:none;border-color:#059669;box-shadow:0 0 0 2px #bbf7d0}"]})};export{K as RateConfirmationDetailComponent};
