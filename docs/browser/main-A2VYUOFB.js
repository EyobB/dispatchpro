import{a as ve}from"./chunk-ECBGD2D6.js";import{a as Ce}from"./chunk-OXCJF6DH.js";import{a as d}from"./chunk-6ULSGKTT.js";import"./chunk-IMHYAPIP.js";import{a as he}from"./chunk-XPCCV2FB.js";import{a as pe,d as de,e as v,f as T,g as ue,h as fe,i as ge,j as U}from"./chunk-3TOGTSGL.js";import{b as le,c as ce,d as me}from"./chunk-FSJQQIFH.js";import{g as oe,k as re,l as ae,m as y,n as se}from"./chunk-QAAQ2EEP.js";import{$ as S,Ab as k,Bb as E,Cb as R,Db as te,Ib as L,Ka as q,La as s,Nb as ie,O as Q,Ob as ne,Qa as h,T as X,U as u,Va as C,Z as Y,_ as x,_a as c,gb as p,ha as J,jb as ee,kb as r,la as Z,lb as o,mb as D,pb as w,r as K,sb as f,tb as m,zb as a}from"./chunk-QJGZKU5F.js";var O="new-rate-confirmations",M="delivered-orders",H="driver-warnings",F="trucks-warnings";var A=class e{constructor(n){this.http=n}apiUrl=`${he.apiUrl}/notifications`;getNotifications(){return this.http.get(this.apiUrl).pipe(K(n=>[{type:O,count:n.newRateConEmails??0,message:"new rate confirmations",link:"/dispatcher/ratecon-emails"},{type:M,count:n.deliveredOrders??0,message:"order(s) delivered",link:"/dispatcher/orders?status=Delivered"},{type:H,count:n.driversWithWarnings??0,message:"driver(s) with warnings",link:"/dispatcher/drivers?status=warning"},{type:F,count:n.trucksWithWarnings??0,message:"truck(s) with warnings",link:"/dispatcher/trucks?status=warning"}]))}static \u0275fac=function(t){return new(t||e)(X(le))};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};function we(e,n){e&1&&(r(0,"h1",5),a(1,"Dispatcher"),o())}function De(e,n){e&1&&(r(0,"span"),a(1,"RateCon Emails"),o())}function Te(e,n){if(e&1&&(r(0,"sup",8),a(1),o()),e&2){let t=m(2);s(),E(" ",t.pendingRateConsCount," ")}}function Ae(e,n){if(e&1&&(r(0,"li")(1,"a",6)(2,"span"),a(3,"\u2709\uFE0F"),o(),c(4,De,2,0,"span",3)(5,Te,2,1,"sup",7),o()()),e&2){let t=m();s(4),p("ngIf",!t.isCollapsed),s(),p("ngIf",t.pendingRateConsCount&&!t.isCollapsed)}}function ke(e,n){e&1&&(r(0,"span"),a(1,"Orders"),o())}function Ne(e,n){if(e&1&&(r(0,"sup",8),a(1),o()),e&2){let t=m(2);s(),E(" ",t.deliveredOrdersCount," ")}}function Re(e,n){if(e&1&&(r(0,"li")(1,"a",9)(2,"span"),a(3,"\u{1F4E6}"),o(),c(4,ke,2,0,"span",3)(5,Ne,2,1,"sup",7),o()()),e&2){let t=m();s(4),p("ngIf",!t.isCollapsed),s(),p("ngIf",t.deliveredOrdersCount&&!t.isCollapsed)}}function Le(e,n){e&1&&(r(0,"span"),a(1,"Carrier Invoices"),o())}function Ue(e,n){if(e&1&&(r(0,"li")(1,"a",10)(2,"span"),a(3,"\u{1F9FE}"),o(),c(4,Le,2,0,"span",3),o()()),e&2){let t=m();s(4),p("ngIf",!t.isCollapsed)}}function Oe(e,n){e&1&&(r(0,"span"),a(1,"Driver Invoices"),o())}function Me(e,n){if(e&1&&(r(0,"li")(1,"a",11)(2,"span"),a(3,"\u{1F4B0}"),o(),c(4,Oe,2,0,"span",3),o()()),e&2){let t=m();s(4),p("ngIf",!t.isCollapsed)}}function He(e,n){e&1&&(r(0,"span"),a(1,"Trucks"),o())}function Fe(e,n){if(e&1&&(r(0,"sup",8),a(1),o()),e&2){let t=m(2);s(),E(" ",t.trucksWarningCount," ")}}function Ve(e,n){if(e&1&&(r(0,"li")(1,"a",12)(2,"span"),a(3,"\u{1F69A}"),o(),c(4,He,2,0,"span",3)(5,Fe,2,1,"sup",7),o()()),e&2){let t=m();s(4),p("ngIf",!t.isCollapsed),s(),p("ngIf",t.trucksWarningCount&&!t.isCollapsed)}}function We(e,n){e&1&&(r(0,"span"),a(1,"Drivers"),o())}function je(e,n){if(e&1&&(r(0,"sup",8),a(1),o()),e&2){let t=m(2);s(),E(" ",t.driverWarningCount," ")}}function Pe(e,n){if(e&1&&(r(0,"li")(1,"a",13)(2,"span"),a(3,"\u{1F9D1}\u200D\u2708\uFE0F"),o(),c(4,We,2,0,"span",3)(5,je,2,1,"sup",7),o()()),e&2){let t=m();s(4),p("ngIf",!t.isCollapsed),s(),p("ngIf",t.driverWarningCount&&!t.isCollapsed)}}function Ge(e,n){e&1&&(r(0,"span"),a(1,"Users"),o())}function ze(e,n){if(e&1&&(r(0,"li")(1,"a",14)(2,"span"),a(3,"\u{1F465}"),o(),c(4,Ge,2,0,"span",3),o()()),e&2){let t=m();s(4),p("ngIf",!t.isCollapsed)}}function Be(e,n){e&1&&(r(0,"span"),a(1,"Reports"),o())}function $e(e,n){if(e&1&&(r(0,"li")(1,"a",15)(2,"span"),a(3,"\u{1F4CA}"),o(),c(4,Be,2,0,"span",3),o()()),e&2){let t=m();s(4),p("ngIf",!t.isCollapsed)}}function Ke(e,n){e&1&&(r(0,"span"),a(1,"Settings"),o())}function Qe(e,n){if(e&1&&(r(0,"li")(1,"a",16)(2,"span"),a(3,"\u2699\uFE0F"),o(),c(4,Ke,2,0,"span",3),o()()),e&2){let t=m();s(4),p("ngIf",!t.isCollapsed)}}function Xe(e,n){e&1&&(r(0,"span"),a(1,"\u23EA"),o())}function Ye(e,n){e&1&&(r(0,"span"),a(1,"\u23E9"),o())}var V=class e{constructor(n,t){this.notificationsService=n;this.sessionService=t}isCollapsed=!1;pendingRateConsCount=0;deliveredOrdersCount=0;driverWarningCount=0;trucksWarningCount=0;currentUser=null;ngOnInit(){this.currentUser=this.sessionService.getLoggedInUser(),this.loadNotifications()}get isSuperAdmin(){return this.currentUser?.roles.includes("SuperAdmin")??!1}get isAdmin(){return this.currentUser?.roles.includes("Admin")??!1}get isDispatcher(){return this.currentUser?.roles.includes("Dispatcher")??!1}loadNotifications(){this.sessionService.isMobileScreen()||this.notificationsService.getNotifications().subscribe(t=>{this.pendingRateConsCount=t.find(i=>i.type===O)?.count||0,this.deliveredOrdersCount=t.find(i=>i.type===M)?.count||0,this.driverWarningCount=t.find(i=>i.type===H)?.count||0,this.trucksWarningCount=t.find(i=>i.type===F)?.count||0})}toggleSidebar(){this.isCollapsed=!this.isCollapsed}static \u0275fac=function(t){return new(t||e)(h(A),h(d))};static \u0275cmp=C({type:e,selectors:[["app-sidebar"]],decls:15,vars:13,consts:[[1,"transition-all","duration-300","h-[calc(100vh-4rem)]","bg-green-900","text-white","p-4","overflow-x-hidden","flex","flex-col",3,"ngClass"],["class","text-2xl font-bold mb-6",4,"ngIf"],[1,"space-y-4","text-lg","flex-1"],[4,"ngIf"],[1,"mt-4","p-2","rounded","bg-green-800","hover:bg-green-700","focus:outline-none","w-full","flex","justify-center",3,"click"],[1,"text-2xl","font-bold","mb-6"],["routerLink","dispatcher/ratecon-emails",1,"flex","items-center","gap-2","cursor-pointer","relative"],["class","bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold shadow",4,"ngIf"],[1,"bg-red-500","text-white","rounded-full","w-6","h-6","flex","items-center","justify-center","text-xs","font-bold","shadow"],["routerLink","/dispatcher/orders",1,"flex","items-center","gap-2","cursor-pointer","relative"],["routerLink","/dispatcher/carrier-invoices",1,"flex","items-center","gap-2","cursor-pointer"],["routerLink","/dispatcher/driver-invoices",1,"flex","items-center","gap-2","cursor-pointer"],["routerLink","/dispatcher/trucks",1,"flex","items-center","gap-2","cursor-pointer"],["routerLink","/dispatcher/drivers",1,"flex","items-center","gap-2","cursor-pointer"],["routerLink","/dispatcher/users",1,"flex","items-center","gap-2","cursor-pointer"],["routerLink","/dispatcher/reports",1,"flex","items-center","gap-2","cursor-pointer"],["routerLink","/dispatcher/settings",1,"flex","items-center","gap-2","cursor-pointer"]],template:function(t,i){t&1&&(r(0,"nav",0),c(1,we,2,0,"h1",1),r(2,"ul",2),c(3,Ae,6,2,"li",3)(4,Re,6,2,"li",3)(5,Ue,5,1,"li",3)(6,Me,5,1,"li",3)(7,Ve,6,2,"li",3)(8,Pe,6,2,"li",3)(9,ze,5,1,"li",3)(10,$e,5,1,"li",3)(11,Qe,5,1,"li",3),o(),r(12,"button",4),f("click",function(){return i.toggleSidebar()}),c(13,Xe,2,0,"span",3)(14,Ye,2,0,"span",3),o()()),t&2&&(p("ngClass",i.isCollapsed?"w-16":"w-60"),s(),p("ngIf",!i.isCollapsed),s(2),p("ngIf",i.isDispatcher),s(),p("ngIf",i.isDispatcher),s(),p("ngIf",i.isDispatcher),s(),p("ngIf",i.isDispatcher),s(),p("ngIf",i.isDispatcher||i.isAdmin),s(),p("ngIf",i.isDispatcher||i.isAdmin),s(),p("ngIf",i.isAdmin),s(),p("ngIf",i.isDispatcher||i.isAdmin),s(),p("ngIf",i.isSuperAdmin),s(2),p("ngIf",!i.isCollapsed),s(),p("ngIf",i.isCollapsed))},dependencies:[U,T,y,re],encapsulation:2})};function Je(e,n){if(e&1){let t=w();r(0,"div")(1,"div",1)(2,"span",2),a(3),o(),r(4,"span",3),a(5),o()(),r(6,"button",4),f("click",function(){x(t);let l=m();return S(l.onHide())}),a(7," \xD7 "),o()()}if(e&2){let t=m();ee(t.getToastClasses()),s(3),k(t.getIcon()),s(2),k(t.toast.message)}}var j=class e{toast={show:!1,type:"info",message:"",duration:5e3};hide=new J;hideTimer;ngOnInit(){this.startHideTimerIfNeeded()}ngOnChanges(n){n.toast&&this.startHideTimerIfNeeded()}ngOnDestroy(){this.clearHideTimer()}onHide(){this.hide.emit()}startHideTimerIfNeeded(){this.clearHideTimer(),this.toast.show&&this.toast.duration&&this.toast.duration>0&&(this.hideTimer=setTimeout(()=>{this.onHide()},this.toast.duration))}clearHideTimer(){this.hideTimer&&(clearTimeout(this.hideTimer),this.hideTimer=void 0)}getToastClasses(){let n="fixed top-14 right-14 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg min-w-80 max-w-md transition-all duration-300 ease-in-out transform";switch(this.toast.type){case"success":return`${n} bg-green-500 text-white`;case"error":return`${n} bg-red-500 text-white`;case"warning":return`${n} bg-yellow-500 text-white`;case"info":return`${n} bg-blue-500 text-white`;default:return`${n} bg-gray-500 text-white`}}getIcon(){switch(this.toast.type){case"success":return"\u2713";case"error":return"\u2717";case"warning":return"\u26A0";case"info":return"\u2139";default:return"\u2139"}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=C({type:e,selectors:[["app-toast"]],inputs:{toast:"toast"},outputs:{hide:"hide"},features:[Y],decls:1,vars:1,consts:[[3,"class",4,"ngIf"],[1,"flex","items-center","gap-2"],[1,"text-lg"],[1,"font-medium"],["type","button",1,"ml-auto","text-white","hover:text-gray-200","text-xl","font-bold","leading-none","focus:outline-none",3,"click"]],template:function(t,i){t&1&&c(0,Je,8,4,"div",0),t&2&&p("ngIf",i.toast.show)},dependencies:[y],encapsulation:2})};var Ze=()=>["/dispatcher-detail"];function qe(e,n){if(e&1){let t=w();r(0,"li",22)(1,"button",23),f("click",function(){let l=x(t).$implicit,I=m(2);return S(I.goToPage(l.link))}),r(2,"span"),a(3),o()()()}if(e&2){let t=n.$implicit;s(3),R("",t.count," ",t.message,"")}}function et(e,n){if(e&1&&(r(0,"div",18)(1,"div",19),a(2,"Notifications"),o(),r(3,"ul"),c(4,qe,4,2,"li",20),o(),r(5,"div",21),a(6,"Click to view details"),o()()),e&2){let t=m();s(4),p("ngForOf",t.notifications)}}function tt(e,n){if(e&1){let t=w();r(0,"div",24)(1,"button",23),f("click",function(){x(t);let l=m();return S(l.goToChangePassword())}),r(2,"span",25),a(3,"\u{1F511}"),o(),r(4,"span"),a(5,"Change Password"),o()(),r(6,"button",23),f("click",function(){x(t);let l=m();return S(l.logout())}),r(7,"span",25),a(8,"\u238B"),o(),r(9,"span"),a(10,"Logout"),o()()()}}function it(e,n){if(e&1){let t=w();r(0,"div",24)(1,"button",23),f("click",function(){x(t);let l=m();return S(l.goToChangePassword())}),r(2,"span",25),a(3,"\u{1F511}"),o(),r(4,"span"),a(5,"Change Password"),o()(),r(6,"button",23),f("click",function(){x(t);let l=m();return S(l.logout())}),r(7,"span",25),a(8,"\u238B"),o(),r(9,"span"),a(10,"Logout"),o()()()}}function nt(e,n){if(e&1){let t=w();r(0,"app-toast",26),f("hide",function(){x(t);let l=m();return S(l.toastService.hide())}),o()}if(e&2){let t=n.ngIf;p("toast",t)}}var P=class e{constructor(n,t,i,l,I,$){this.dispatcherService=n;this.notificationsService=t;this.toastService=i;this.sessionService=l;this.router=I;this.eRef=$}showNotifications=!1;showUserMenu=!1;company=null;notifications=[];totalNotifications=0;ngOnInit(){this.company=this.dispatcherService.getDispatcher(),this.sessionService.isMobileScreen()?(this.notifications=[],this.totalNotifications=0):this.notificationsService.getNotifications().subscribe(t=>{this.notifications=t.filter(i=>i.count>0),this.totalNotifications=this.notifications.reduce((i,l)=>i+l.count,0)})}logout(){this.sessionService.logout(),this.router.navigate(["/login"])}get loggedIn(){return this.sessionService.getLoggedInUser()}toggleNotifications(){this.showNotifications=!this.showNotifications}toggleUserMenu(){this.showUserMenu=!this.showUserMenu}goToChangePassword(){this.showUserMenu=!1,this.router.navigate(["/change-password"])}goToPage(n){this.showNotifications=!1,this.router.navigateByUrl(n)}onDocumentClick(n){this.showNotifications&&!this.eRef.nativeElement.contains(n.target)&&(this.showNotifications=!1),this.showUserMenu&&!this.eRef.nativeElement.contains(n.target)&&(this.showUserMenu=!1)}static \u0275fac=function(t){return new(t||e)(h(ve),h(A),h(Ce),h(d),h(v),h(Z))};static \u0275cmp=C({type:e,selectors:[["app-header"]],hostBindings:function(t,i){t&1&&f("click",function(I){return i.onDocumentClick(I)},!1,q)},decls:41,vars:18,consts:[[1,"w-full","bg-green-900","text-white","flex","items-center","justify-between","px-6","py-3","shadow"],[1,"flex","items-center","gap-3","hidden","sm:flex"],[1,"text-4xl"],[1,"font-bold","text-lg"],[1,"text-xs","text-green-100"],[1,"flex","items-center","sm:hidden"],[1,"font-bold","text-lg","hover:underline",3,"routerLink"],[1,"hidden","sm:flex","justify-between","gap-6","relative","w-full","sm:w-auto"],[1,"relative","inline-flex"],[1,"relative","focus:outline-none",3,"click"],[1,"text-2xl"],[1,"absolute","-top-1","-right-2","bg-red-500","text-xs","rounded-full","px-1"],["class","absolute right-0 mt-2 w-64 bg-white text-green-900 rounded shadow-lg z-50 border border-green-100",4,"ngIf"],[1,"flex","items-center","gap-2"],[1,"relative"],[1,"flex","items-center","gap-2","focus:outline-none",3,"click"],["class","absolute right-0 mt-2 w-48 bg-white text-green-900 rounded shadow-lg z-50 border border-green-100",4,"ngIf"],[3,"toast","hide",4,"ngIf"],[1,"absolute","right-0","mt-2","w-64","bg-white","text-green-900","rounded","shadow-lg","z-50","border","border-green-100"],[1,"p-3","border-b","border-green-100","font-semibold","text-green-800"],["class","border-b border-green-100",4,"ngFor","ngForOf"],[1,"px-4","py-2","text-xs","text-gray-500","border-t","border-green-100"],[1,"border-b","border-green-100"],[1,"w-full","text-left","px-4","py-2","hover:bg-green-50","flex","items-center","gap-2",3,"click"],[1,"absolute","right-0","mt-2","w-48","bg-white","text-green-900","rounded","shadow-lg","z-50","border","border-green-100"],[1,"text-lg"],[3,"hide","toast"]],template:function(t,i){t&1&&(r(0,"header",0)(1,"div",1)(2,"span",2),a(3,"\u{1F3E2}"),o(),r(4,"div",3),a(5),r(6,"div",4),a(7),o()()(),r(8,"div",5)(9,"a",6),a(10),o()(),r(11,"div",7)(12,"div",8)(13,"button",9),f("click",function(){return i.toggleNotifications()}),r(14,"span",10),a(15,"\u{1F514}"),o(),r(16,"span",11),a(17),o()(),c(18,et,7,1,"div",12),o(),r(19,"div",13)(20,"div",14)(21,"button",15),f("click",function(){return i.toggleUserMenu()}),r(22,"span",10),a(23,"\u{1F464}"),o(),r(24,"span"),a(25),o(),r(26,"span",10),a(27,"\u22EE"),o()(),c(28,tt,11,0,"div",16),o()()(),r(29,"div",5)(30,"div",14)(31,"button",15),f("click",function(){return i.toggleUserMenu()}),r(32,"span",10),a(33,"\u{1F464}"),o(),r(34,"span"),a(35),o(),r(36,"span",10),a(37,"\u22EE"),o()(),c(38,it,11,0,"div",16),o()()(),c(39,nt,1,1,"app-toast",17),ie(40,"async")),t&2&&(s(5),E(" ",i.company==null?null:i.company.name," "),s(2),te(" ",i.company==null?null:i.company.address," \u2022 ",i.company==null?null:i.company.phone," \u2022 ",i.company==null?null:i.company.email," "),s(2),p("routerLink",L(17,Ze)),s(),E(" ",i.company==null?null:i.company.name," "),s(7),k(i.totalNotifications),s(),p("ngIf",i.showNotifications),s(7),R("",i.loggedIn==null?null:i.loggedIn.firstName," ",i.loggedIn==null?null:i.loggedIn.lastName,""),s(3),p("ngIf",i.showUserMenu),s(7),R("",i.loggedIn==null?null:i.loggedIn.firstName," ",i.loggedIn==null?null:i.loggedIn.lastName,""),s(3),p("ngIf",i.showUserMenu),s(),p("ngIf",ne(40,15,i.toastService.toast$)))},dependencies:[T,y,ae,j,se],encapsulation:2})};var ot=()=>({exact:!0}),G=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=C({type:e,selectors:[["app-mobile-nav"]],decls:20,vars:2,consts:[[1,"fixed","bottom-0","left-0","w-full","bg-green-900","text-white","shadow-lg","z-50"],[1,"flex","justify-around","items-center","py-2"],["routerLink","/driver/current-orders","routerLinkActive","text-green-300 font-bold border-t-2 border-green-300",1,"flex","flex-col","items-center","px-4","pt-1","transition",3,"routerLinkActiveOptions"],[1,"text-2xl"],[1,"text-xs","mt-1"],["routerLink","/driver/completed-orders","routerLinkActive","text-green-300 font-bold border-t-2 border-green-300",1,"flex","flex-col","items-center","px-4","pt-1","transition"],["routerLink","/driver/invoices","routerLinkActive","text-green-300 font-bold border-t-2 border-green-300",1,"flex","flex-col","items-center","px-4","pt-1","transition"]],template:function(t,i){t&1&&(r(0,"nav",0)(1,"ul",1)(2,"li")(3,"a",2)(4,"span",3),a(5,"\u{1F4E6}"),o(),r(6,"span",4),a(7,"Current Loads"),o()()(),r(8,"li")(9,"a",5)(10,"span",3),a(11,"\u2705"),o(),r(12,"span",4),a(13,"Completed Loads"),o()()(),r(14,"li")(15,"a",6)(16,"span",3),a(17,"\u{1F9FE}"),o(),r(18,"span",4),a(19,"Invoices"),o()()()()()),t&2&&(s(3),p("routerLinkActiveOptions",L(1,ot)))},dependencies:[T,ue],encapsulation:2})};function rt(e,n){e&1&&D(0,"app-header",7)}function at(e,n){e&1&&(r(0,"aside",8),D(1,"app-sidebar"),o())}function st(e,n){e&1&&(r(0,"main",9)(1,"div",10),D(2,"router-outlet"),o()())}function pt(e,n){e&1&&(r(0,"main",11),D(1,"router-outlet"),o())}function lt(e,n){e&1&&D(0,"app-mobile-nav",12)}var z=class e{constructor(n){this.sessionService=n}get isMobile(){return this.sessionService.isMobileScreen()}get isUserLoggedIn(){return this.sessionService.isLoggedIn()}static \u0275fac=function(t){return new(t||e)(h(d))};static \u0275cmp=C({type:e,selectors:[["app-root"]],decls:7,vars:5,consts:[[1,"min-h-screen","bg-gray-100"],["class","sticky top-0 z-20",4,"ngIf"],[1,"flex"],["class","sticky top-[64px] h-[calc(100vh-64px)] z-10 hidden md:block",4,"ngIf"],["class","flex-1",4,"ngIf"],["class","flex-1 p-4 pb-20 md:pb-6",4,"ngIf"],["class","md:hidden",4,"ngIf"],[1,"sticky","top-0","z-20"],[1,"sticky","top-[64px]","h-[calc(100vh-64px)]","z-10","hidden","md:block"],[1,"flex-1"],[1,"bg-white","border","rounded","shadow","h-full"],[1,"flex-1","p-4","pb-20","md:pb-6"],[1,"md:hidden"]],template:function(t,i){t&1&&(r(0,"div",0),c(1,rt,1,0,"app-header",1),r(2,"div",2),c(3,at,2,0,"aside",3)(4,st,3,0,"main",4)(5,pt,2,0,"main",5),o(),c(6,lt,1,0,"app-mobile-nav",6),o()),t&2&&(s(),p("ngIf",i.isUserLoggedIn),s(2),p("ngIf",i.isUserLoggedIn),s(),p("ngIf",!i.isUserLoggedIn),s(),p("ngIf",i.isUserLoggedIn),s(),p("ngIf",i.isUserLoggedIn))},dependencies:[y,U,de,V,P,G],encapsulation:2})};var g=(e,n)=>{let t=u(d),i=u(v),l=t.getLoggedInUser();return l&&l.roles.includes("Dispatcher")?!0:i.createUrlTree(["/login"])};var b=(e,n)=>{let t=u(d),i=u(v),l=t.getLoggedInUser();return l&&l.roles.includes("Driver")?!0:i.createUrlTree(["/login"])};var be=(e,n)=>{let t=u(d),i=u(v);return t.getLoggedInUser()?!0:i.createUrlTree(["/login"])};var B=(e,n)=>{let t=u(d),i=u(v),l=t.getLoggedInUser();if(l){let I=l?.roles.includes("Admin"),$=l?.roles.includes("SuperAdmin");return I||$}else return i.createUrlTree(["/login"])};var _=(e,n)=>{let t=u(d),i=u(v),l=t.getLoggedInUser();return l&&(l.roles.includes("Admin")||l.roles.includes("Dispatcher"))?!0:i.createUrlTree(["/login"])};var Ie=[{path:"login",loadComponent:()=>import("./chunk-UOFGIXGV.js").then(e=>e.LoginComponent)},{path:"forgot-password",loadComponent:()=>import("./chunk-5P52FX6P.js").then(e=>e.ForgotPasswordComponent)},{path:"change-password",loadComponent:()=>import("./chunk-UNLPFPAV.js").then(e=>e.ChangePasswordComponent),canActivate:[be]},{path:"error/:error",loadComponent:()=>import("./chunk-WKI4PUY5.js").then(e=>e.ErrorComponent)},{path:"dispatcher/ratecon-emails",loadComponent:()=>import("./chunk-CDEQ2UP3.js").then(e=>e.RateconEmailsComponent),canActivate:[g]},{path:"dispatcher/ratecon-from-email/:id",loadComponent:()=>import("./chunk-OT5UGGG6.js").then(e=>e.RateconFromEmailComponent),canActivate:[g]},{path:"dispatcher/rate-confirmations",loadComponent:()=>import("./chunk-74BGVQEJ.js").then(e=>e.RateConfirmationsComponent),canActivate:[g]},{path:"dispatcher/rate-confirmations/:id",loadComponent:()=>import("./chunk-UZTLWD72.js").then(e=>e.RateConfirmationDetailComponent),canActivate:[g]},{path:"dispatcher/sign-rate-confirmation/:id",loadComponent:()=>import("./chunk-PNECUPD6.js").then(e=>e.SignRateConfirmationComponent),canActivate:[g]},{path:"dispatcher/orders",loadComponent:()=>import("./chunk-WP7DYJO2.js").then(e=>e.OrdersComponent),canActivate:[g]},{path:"dispatcher/orders/:id",loadComponent:()=>import("./chunk-XXFKHSDQ.js").then(e=>e.OrderDetailComponent),canActivate:[g]},{path:"dispatcher/order-to-invoice/:id",loadComponent:()=>import("./chunk-QLYAFMN2.js").then(e=>e.OrderToInvoiceComponent),canActivate:[g]},{path:"dispatcher/carrier-invoices",loadComponent:()=>import("./chunk-6YWRAKTL.js").then(e=>e.CarrierInvoicesComponent),canActivate:[g]},{path:"dispatcher/carrier-invoices/:id",loadComponent:()=>import("./chunk-PDSAOKJW.js").then(e=>e.CarrierInvoiceDetailComponent),canActivate:[g]},{path:"dispatcher/invoices/:id",loadComponent:()=>import("./chunk-PDSAOKJW.js").then(e=>e.CarrierInvoiceDetailComponent),canActivate:[g]},{path:"dispatcher/driver-invoices",loadComponent:()=>import("./chunk-4JASNX5X.js").then(e=>e.DriverInvoicesComponent),canActivate:[g]},{path:"dispatcher/driver-invoices/:id",loadComponent:()=>import("./chunk-4Q2WOJ2A.js").then(e=>e.DriverInvoiceDetailsComponent),canActivate:[g]},{path:"dispatcher/trucks",loadComponent:()=>import("./chunk-J4NNVTHK.js").then(e=>e.TrucksComponent),canActivate:[_]},{path:"dispatcher/trucks/:id",loadComponent:()=>import("./chunk-RCAG7TDB.js").then(e=>e.TruckDetailComponent),canActivate:[_]},{path:"dispatcher/drivers",loadComponent:()=>import("./chunk-67SUFS6A.js").then(e=>e.DriversComponent),canActivate:[_]},{path:"dispatcher/drivers/:id",loadComponent:()=>import("./chunk-MKVY52OT.js").then(e=>e.DriverDetailComponent),canActivate:[_]},{path:"dispatcher/users",loadComponent:()=>import("./chunk-6HXXYPZN.js").then(e=>e.UsersComponent),canActivate:[B]},{path:"dispatcher/reports",loadComponent:()=>import("./chunk-JWLGLFX5.js").then(e=>e.ReportsComponent),canActivate:[_]},{path:"dispatcher/settings",loadComponent:()=>import("./chunk-5ZQMVN3N.js").then(e=>e.SettingsComponent),canActivate:[B]},{path:"order-checkins-map/:id",loadComponent:()=>import("./chunk-SXNHQMIN.js").then(e=>e.OrderCheckinsMapComponent)},{path:"dispatcher/reports/order/list",loadComponent:()=>import("./chunk-XIJ2FFRO.js").then(e=>e.ListReportComponent),canActivate:[_]},{path:"dispatcher/reports/order/yearly",loadComponent:()=>import("./chunk-643CGISB.js").then(e=>e.YearlySummaryComponent),canActivate:[_]},{path:"dispatcher/reports/order/quarterly",loadComponent:()=>import("./chunk-GJ4SEMKG.js").then(e=>e.QuarterlySummaryComponent),canActivate:[_]},{path:"dispatcher/reports/order/monthly",loadComponent:()=>import("./chunk-HE5UGTDN.js").then(e=>e.MonthlySummaryComponent),canActivate:[_]},{path:"driver/current-orders",loadComponent:()=>import("./chunk-4B4QROC6.js").then(e=>e.CurrentOrdersComponent),canActivate:[b]},{path:"driver/completed-orders",loadComponent:()=>import("./chunk-VRLXLZ7M.js").then(e=>e.CompletedOrdersComponent),canActivate:[b]},{path:"driver/order-detail/:id",loadComponent:()=>import("./chunk-XNKAMJFP.js").then(e=>e.OrderDetailComponent),canActivate:[b]},{path:"driver/upload-pod/:id",loadComponent:()=>import("./chunk-EV6GV4QR.js").then(e=>e.UploadPodComponent),canActivate:[b]},{path:"driver/complete-order/:id",loadComponent:()=>import("./chunk-TKVHTYLM.js").then(e=>e.CompleteOrderComponent),canActivate:[b]},{path:"driver/payments",loadComponent:()=>import("./chunk-GSYNCRVG.js").then(e=>e.PaymentsComponent),canActivate:[b]},{path:"driver/invoices",loadComponent:()=>import("./chunk-FZ32N4IL.js").then(e=>e.InvoicesComponent),canActivate:[b]},{path:"driver/generate-invoice/:ids",loadComponent:()=>import("./chunk-VYO4X5EM.js").then(e=>e.GenerateInvoiceComponent),canActivate:[b]},{path:"",redirectTo:"login",pathMatch:"full"}];var Ee=(e,n)=>{let t=u(d);if(e.url.includes("/Auth/login"))return n(e);let i=t.getLoggedInUser();if(i&&i.token){let l={Authorization:`Bearer ${i.token}`};i.carrierId&&i.roles.includes("SuperAdmin")&&(l["X-Carrier-Id"]=i.carrierId);let I=e.clone({setHeaders:l});return n(I)}return n(e)};var ye={providers:[ce(me([Ee])),fe(Ie,ge()),{provide:oe,useValue:"/dispatchpro/"}]};pe(z,ye);
