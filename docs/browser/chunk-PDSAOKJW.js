import{a as k}from"./chunk-CCQA74BY.js";import{a as T}from"./chunk-OG4YFG5K.js";import{a as w}from"./chunk-ECBGD2D6.js";import"./chunk-XPCCV2FB.js";import{c as C}from"./chunk-3TOGTSGL.js";import"./chunk-FSJQQIFH.js";import{l as y,q as S}from"./chunk-QAAQ2EEP.js";import{Ab as m,Bb as l,Ga as g,La as r,Nb as s,Ob as b,Pb as c,Qa as p,Va as E,Ya as h,_a as D,gb as u,kb as i,lb as e,mb as I,sb as f,zb as t}from"./chunk-QJGZKU5F.js";var v=class d{transform(o){if(!o)return"-";let{street:a,city:n,state:x,zip:A}=o;return[a,n,x,A].filter(Boolean).join(", ")}static \u0275fac=function(a){return new(a||d)};static \u0275pipe=h({name:"address",type:d,pure:!0})};function _(d,o){if(d&1&&(i(0,"tr",27)(1,"td",28),t(2),e(),i(3,"td",29),t(4),s(5,"number"),e()()),d&2){let a=o.$implicit;r(2),m(a.description),r(2),l("$",c(5,2,a.amount,"1.2-2"),"")}}var P=class d{constructor(o,a,n){this.dispatcherService=o;this.invoiceService=a;this.route=n}company=null;ngOnInit(){let o=this.route.snapshot.paramMap.get("id");if(!o)throw new Error("Invoice ID is required");this.company=this.dispatcherService.getDispatcher(),this.invoiceService.getCarrierInvoice(o).subscribe(a=>{this.invoice=a})}client={name:"Acme Corp",address:"456 Oak Ave, Atlanta, GA 30303",phone:"+1-555-5678",email:"billing@acmecorp.com"};invoice=new k;get subtotal(){return this.invoice.lineItems.reduce((o,a)=>o+a.amount,0)}get grandTotal(){return this.subtotal}paymentTerms="Net 14 days from invoice date.";paymentInstructions=`Please remit payment to:<br>
    Philosia LLC<br>
    Bank: First National Bank<br>
    Account #: 123456789<br>
    Routing #: 987654321<br>
    Reference: INV-2025-001`;notes="Thank you for your business! Please contact us if you have any questions regarding this invoice.";printInvoice(){let o=document.getElementById("invoice-print")?.innerHTML;if(o){let a=window.open("","","height=700,width=900");a&&(a.document.write(`
          <html>
            <head>
              <title>Print Invoice</title>
              <link rel="stylesheet" href="styles.css">
              <style>
                body { font-family: Arial, sans-serif; margin: 2rem; }
                .print\\:hidden { display: none !important; }
                /* Add more styles as needed for print */
              </style>
            </head>
            <body>${o}</body>
          </html>
        `),a.document.close(),a.focus(),setTimeout(()=>{a.print(),a.close()},300))}}sendToBroker(){alert("Invoice sent to broker!")}static \u0275fac=function(a){return new(a||d)(p(w),p(T),p(C))};static \u0275cmp=E({type:d,selectors:[["app-invoice-detail"]],decls:148,vars:36,consts:[["id","invoice-print",1,"max-w-2xl","mx-auto","p-6","bg-white","rounded-2xl","shadow-2xl","border","border-green-100"],[1,"mb-4","border-b","border-green-200","pb-3"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","items-start","sm:items-center"],[1,"text-2xl","font-extrabold","text-green-900","mb-1","tracking-tight","flex","items-center","gap-2"],[1,"font-semibold","text-base"],[1,"text-gray-700","text-sm"],[1,"mt-1","text-xs","text-gray-600","flex","flex-wrap","gap-4"],[1,"font-semibold"],[1,"mt-4","sm:mt-0","text-right","space-y-1","text-sm"],[1,"font-semibold","text-lg","text-green-900","mb-1","flex","items-center","gap-2"],[1,"flex","flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"flex","flex-col","justify-between","sm:flex-row","gap-6"],[1,"flex-2"],[1,"mb-1"],[1,"flex-3"],[1,"min-w-full","mb-2","border","border-green-300","rounded-lg","shadow-sm","overflow-hidden","text-sm"],[1,"bg-green-100"],[1,"text-left","py-2","px-4","border-b","border-green-200","font-semibold"],[1,"text-right","py-2","px-4","border-b","border-green-200","font-semibold"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-end","space-y-0.5","mt-1","text-sm"],[1,"text-xl","font-extrabold","text-green-800","mt-1"],[1,"font-semibold","text-lg","text-green-900","mb-1","mt-3","flex","items-center","gap-2"],[1,"text-gray-700","text-sm",3,"innerHTML"],[1,"flex","justify-between","gap-2","mb-2","print:hidden"],[1,"bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded","shadow","font-semibold","transition",3,"click"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded","shadow","font-semibold","transition",3,"click"],[1,"hover:bg-green-50","transition"],[1,"py-2","px-4","border-b","border-green-100"],[1,"py-2","px-4","border-b","border-green-100","text-right"]],template:function(a,n){a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3)(5,"span"),t(6,"\u{1F9FE}"),e(),t(7," Carrier Invoice "),e(),i(8,"div",4),t(9),e(),i(10,"div",5),t(11),e(),i(12,"div",6)(13,"span")(14,"span",7),t(15,"Phone:"),e(),t(16),e(),i(17,"span")(18,"span",7),t(19,"Email:"),e(),t(20),e()()(),i(21,"div",8)(22,"div")(23,"span",7),t(24,"Invoice #:"),e(),t(25),e(),i(26,"div")(27,"span",7),t(28,"Invoice Date:"),e(),t(29),e(),i(30,"div")(31,"span",7),t(32,"Due Date:"),e(),t(33),e()()()(),i(34,"div",1)(35,"h3",9)(36,"span"),t(37,"\u{1F3E2}"),e(),t(38," Billed To "),e(),i(39,"div",10)(40,"div")(41,"div",4),t(42),e(),i(43,"div",5),t(44),e(),i(45,"div",6)(46,"span")(47,"span",7),t(48,"Phone:"),e(),t(49),e(),i(50,"span")(51,"span",7),t(52,"Email:"),e(),t(53),e()()(),i(54,"div",8)(55,"div")(56,"span",7),t(57,"Load #:"),e(),t(58),e(),i(59,"div")(60,"span",7),t(61,"PoD #:"),e(),t(62),e()()()(),i(63,"div",1)(64,"h3",9)(65,"span"),t(66,"\u{1F69A}"),e(),t(67," Description of Services "),e(),i(68,"div")(69,"div",11)(70,"div",12)(71,"div",7),t(72,"Service:"),e(),i(73,"div",13),t(74),e(),i(75,"div",7),t(76,"Pickup Date:"),e(),i(77,"div",13),t(78),e(),i(79,"div",7),t(80,"Delivery Date:"),e(),i(81,"div",13),t(82),e()(),i(83,"div",14)(84,"div",7),t(85,"Load Details:"),e(),i(86,"div",13),t(87),e(),i(88,"div",7),t(89,"Origin:"),e(),i(90,"div",13),t(91),s(92,"address"),e(),i(93,"div",7),t(94,"Destination:"),e(),i(95,"div",13),t(96),s(97,"address"),e()()()(),i(98,"div",1)(99,"h3",9)(100,"span"),t(101,"\u{1F4B2}"),e(),t(102," Rates and Charges "),e(),i(103,"table",15)(104,"thead")(105,"tr",16)(106,"th",17),t(107,"Description"),e(),i(108,"th",18),t(109,"Amount"),e()()(),i(110,"tbody"),D(111,_,6,5,"tr",19),e()(),i(112,"div",20)(113,"div")(114,"span",7),t(115,"Subtotal: "),e(),i(116,"span"),t(117),s(118,"number"),e()(),i(119,"div",21),t(120),s(121,"number"),e()()(),i(122,"div",1)(123,"h3",9)(124,"span"),t(125,"\u{1F4B3}"),e(),t(126," Payment Terms "),e(),i(127,"div",5),t(128),e(),i(129,"h3",22)(130,"span"),t(131,"\u{1F3E6}"),e(),t(132," Payment Instructions "),e(),I(133,"div",23),e(),i(134,"div")(135,"h3",9)(136,"span"),t(137,"\u{1F4DD}"),e(),t(138," Notes "),e(),i(139,"div",5),t(140),e()()(),i(141,"div",24)(142,"button",25),f("click",function(){return n.printInvoice()}),t(143," \u{1F5A8}\uFE0F Print Invoice "),e(),i(144,"div"),t(145),e(),i(146,"button",26),f("click",function(){return n.sendToBroker()}),t(147," \u{1F4E4} Send to Broker "),e()()()),a&2&&(r(9),m(n.company==null?null:n.company.name),r(2),m(n.company==null?null:n.company.address),r(5),l(" ",n.company==null?null:n.company.phone,""),r(4),l(" ",n.company==null?null:n.company.email,""),r(5),l(" ",n.invoice.invoiceNumber,""),r(4),l(" ",n.invoice.invoiceDate,""),r(4),l(" ",n.invoice.dueDate,""),r(9),m(n.client.name),r(2),m(n.client.address),r(5),l(" ",n.client.phone,""),r(4),l(" ",n.client.email,""),r(5),l(" ",n.invoice.loadNumber,""),r(4),l(" ",n.invoice.podNumber,""),r(12),m(n.invoice.service),r(4),m(n.invoice.pickupDate),r(4),m(n.invoice.deliveryDate),r(5),m(n.invoice.loadDetails),r(4),m(b(92,26,n.invoice.origin)),r(5),m(b(97,28,n.invoice.destination)),r(15),u("ngForOf",n.invoice.lineItems),r(6),l("$",c(118,30,n.subtotal,"1.2-2"),""),r(3),l(" Grand Total: $",c(121,33,n.grandTotal,"1.2-2")," "),r(8),m(n.paymentTerms),r(5),u("innerHTML",n.paymentInstructions,g),r(7),l(" ",n.notes," "),r(5),l("Broker email: ",n.invoice.brokerEmail,""))},dependencies:[y,S,v],encapsulation:2})};export{P as CarrierInvoiceDetailComponent};
