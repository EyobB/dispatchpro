import{f as V}from"./chunk-3KQDNKNL.js";import{l as k,m as F}from"./chunk-B35W4A7H.js";import{Ga as o,Kb as j,La as b,Qa as h,U as C,Va as f,ab as u,bb as R,db as t,ea as d,eb as i,fa as p,fb as S,gb as y,hb as w,ib as _,lb as x,mb as c,r as v,sb as I,tb as a,ub as s,vb as E}from"./chunk-WMTXBNFA.js";var g=class n{constructor(){}getRateConEmails(){return v(this.rateConEmails)}rateConEmails=[{sender:"BNSF",subject:"RateConf BN4227765",date:"06-02-24",attachments:["BN4227765.pdf","BOL_765.jpg"]},{sender:"RapidLog",subject:"Invoice Attached",date:"06-01-24",attachments:[]},{sender:"XpressShip",subject:"Load Confirm 8849",date:"06-01-24",attachments:["LC8849.pdf"]},{sender:"LoadHub",subject:"May Invoices",date:"06-01-24",attachments:[]}];static \u0275fac=function(e){return new(e||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})};function B(n,r){if(n&1){let e=_();t(0,"li",8),x("click",function(){let m=d(e).$implicit,T=c();return p(T.selectEmail(m))}),t(1,"div",9),a(2),i(),t(3,"div",10),a(4),i(),t(5,"div",11),a(6),i()()}if(n&2){let e=r.$implicit,l=c();R("bg-green-100",l.selectedEmail===e),o(2),s(e.sender),o(2),s(e.subject),o(2),s(e.date)}}function D(n,r){if(n&1&&(t(0,"li",23),a(1),t(2,"button",24),a(3,"View"),i()()),n&2){let e=r.$implicit;o(),E(" ",e," ")}}function A(n,r){if(n&1){let e=_();y(0),t(1,"h3",12),a(2),i(),t(3,"p",13),a(4),i(),t(5,"p",14),a(6),i(),t(7,"div",15)(8,"p",16),a(9,"Email body preview for "),t(10,"strong"),a(11),i(),a(12,"..."),i()(),t(13,"div",17)(14,"h4",18),a(15,"Attachments"),i(),t(16,"ul"),f(17,D,4,1,"li",19),i()(),t(18,"div",20)(19,"button",21),x("click",function(){d(e);let m=c();return p(m.confirmRateCon())}),a(20,"Confirm as RateCon"),i(),t(21,"button",22),x("click",function(){d(e);let m=c();return p(m.dismissEmail())}),a(22,"Dismiss"),i()(),w()}if(n&2){let e=c();o(2),s(e.selectedEmail.subject),o(2),E("From: ",e.selectedEmail.sender,""),o(2),E("Received: ",e.selectedEmail.date,""),o(5),s(e.selectedEmail.subject),o(6),u("ngForOf",e.selectedEmail.attachments)}}function M(n,r){n&1&&(t(0,"p",25),a(1,"Select an email to review details."),i())}var O=class n{constructor(r,e){this.rateConEmailService=r;this.router=e}emails=[];selectedEmail=null;ngOnInit(){this.loadEmails()}loadEmails(){this.rateConEmailService.getRateConEmails().subscribe(r=>{this.emails=r})}selectEmail(r){this.selectedEmail=r}confirmRateCon(){this.router.navigate(["dispatcher/ratecon-from-email/x"])}dismissEmail(){this.emails=this.emails.filter(r=>r!==this.selectedEmail),this.selectedEmail=null}static \u0275fac=function(e){return new(e||n)(b(g),b(V))};static \u0275cmp=h({type:n,selectors:[["app-ratecon-emails"]],decls:11,vars:3,consts:[["noSelection",""],[1,"flex","h-screen","bg-gray-50"],[1,"w-1/3","border-r","border-gray-300","p-4","overflow-y-auto"],[1,"text-xl","font-semibold","mb-4"],["type","text","placeholder","Search...",1,"w-full","mb-3","p-2","border","rounded"],["class","p-2 mb-2 rounded hover:bg-green-50 cursor-pointer",3,"bg-green-100","click",4,"ngFor","ngForOf"],[1,"w-2/3","p-4"],[4,"ngIf","ngIfElse"],[1,"p-2","mb-2","rounded","hover:bg-green-50","cursor-pointer",3,"click"],[1,"font-medium"],[1,"text-sm","text-gray-600"],[1,"text-xs","text-gray-400"],[1,"text-lg","font-semibold","mb-2"],[1,"text-sm","text-gray-600","mb-1"],[1,"text-sm","text-gray-600","mb-4"],[1,"border","p-3","rounded","mb-4","bg-white"],[1,"text-gray-700"],[1,"mb-4"],[1,"font-medium","mb-2"],["class","flex justify-between bg-gray-100 p-2 mb-1 rounded",4,"ngFor","ngForOf"],[1,"flex","gap-3"],[1,"bg-green-600","text-white","px-4","py-2","rounded","hover:bg-green-700",3,"click"],[1,"bg-red-500","text-white","px-4","py-2","rounded","hover:bg-red-600",3,"click"],[1,"flex","justify-between","bg-gray-100","p-2","mb-1","rounded"],[1,"text-blue-600","hover:underline"],[1,"text-gray-400"]],template:function(e,l){if(e&1&&(t(0,"div",1)(1,"div",2)(2,"h2",3),a(3,"RateCon Email Emails"),i(),S(4,"input",4),t(5,"ul"),f(6,B,7,5,"li",5),i()(),t(7,"div",6),f(8,A,23,5,"ng-container",7)(9,M,2,0,"ng-template",null,0,j),i()()),e&2){let m=I(10);o(6),u("ngForOf",l.emails),o(2),u("ngIf",l.selectedEmail)("ngIfElse",m)}},dependencies:[F,k],encapsulation:2})};export{O as RateconEmailsComponent};
