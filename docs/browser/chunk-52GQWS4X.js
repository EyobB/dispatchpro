import{a as h}from"./chunk-CU4JJHDF.js";import{b as w,c as x,d as S,e as v,f as y,g as R,m as q,n as C}from"./chunk-UZTIWSSQ.js";import{e as b}from"./chunk-5TTF5I2A.js";import"./chunk-KOSR3TVL.js";import{Ia as s,Na as a,Sa as c,eb as e,fb as t,mb as f,sb as n,xb as m,yb as d,zb as g}from"./chunk-N44I7YIH.js";var M=class u{constructor(i,l){this.router=i;this.userService=l}loginRequest={email:"",password:""};login(){this.loginRequest.email&&this.loginRequest.password&&this.userService.login(this.loginRequest.email,this.loginRequest.password).subscribe(i=>{i?i.roles.includes("dispatcher")?this.router.navigate(["/dispatcher/orders"]):i.roles.includes("driver")?this.router.navigate(["/driver/orders"]):console.error("Unknown role:",i.roles):console.error("Login failed")},i=>{console.error("Login error:",i)})}resetForm(){this.loginRequest.email="",this.loginRequest.password=""}static \u0275fac=function(l){return new(l||u)(a(b),a(h))};static \u0275cmp=c({type:u,selectors:[["app-login"]],decls:25,vars:2,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-green-100","to-green-300","px-2"],[1,"bg-white","rounded-2xl","shadow-2xl","p-6","sm:p-8","w-full","max-w-md"],[1,"flex","flex-col","items-center","mb-6"],[1,"text-5xl","mb-2"],[1,"text-3xl","font-bold","text-green-900","mb-2","text-center"],[1,"text-green-700","text-center"],[1,"space-y-4",3,"ngSubmit"],[1,"mb-4"],["for","email",1,"block","text-green-900","font-semibold","mb-1"],["id","email","type","email","name","email","placeholder","you@email.com","required","",1,"w-full","border","border-green-200","rounded","px-4","py-2","focus:outline-none","focus:ring-2","focus:ring-green-400",3,"ngModelChange","ngModel"],["for","password",1,"block","text-green-900","font-semibold","mb-1"],["id","password","type","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"w-full","border","border-green-200","rounded","px-4","py-2","focus:outline-none","focus:ring-2","focus:ring-green-400",3,"ngModelChange","ngModel"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","mb-4","gap-2"],["href","#",1,"text-green-700","hover:underline","text-sm","text-right"],["type","submit",1,"w-full","bg-green-600","hover:bg-green-700","text-white","font-bold","py-2","rounded","transition"],[1,"mt-6","text-center","text-green-800","text-sm"]],template:function(l,o){l&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n(4,"\u{1F69A}"),t(),e(5,"h2",4),n(6,"DispatchPro Login"),t(),e(7,"p",5),n(8,"Sign in to your account"),t()(),e(9,"form",6),f("ngSubmit",function(){return o.login()}),e(10,"div",7)(11,"label",8),n(12,"Email"),t(),e(13,"input",9),g("ngModelChange",function(r){return d(o.loginRequest.email,r)||(o.loginRequest.email=r),r}),t()(),e(14,"div",7)(15,"label",10),n(16,"Password"),t(),e(17,"input",11),g("ngModelChange",function(r){return d(o.loginRequest.password,r)||(o.loginRequest.password=r),r}),t()(),e(18,"div",12)(19,"a",13),n(20,"Forgot password?"),t()(),e(21,"button",14),n(22," Sign In "),t()(),e(23,"div",15),n(24," \xA9 2025 DispatcherPro. All rights reserved. "),t()()()),l&2&&(s(13),m("ngModel",o.loginRequest.email),s(4),m("ngModel",o.loginRequest.password))},dependencies:[C,R,w,x,S,q,y,v],encapsulation:2})};export{M as LoginComponent};
