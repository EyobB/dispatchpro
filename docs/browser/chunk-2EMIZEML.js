import{a as C}from"./chunk-IOPBYQJQ.js";import{a as l}from"./chunk-XPCCV2FB.js";import{b}from"./chunk-5UMXG57Q.js";import{O as m,T as c,g as p,n as d,r as u}from"./chunk-ITTAAY47.js";var g=class a{constructor(e,t){this.http=e;this.sessionService=t}apiUrl=`${l.apiUrl}/orders`;currentOrder=null;getOrder(e){return this.http.get(`${this.apiUrl}/${e}`)}getOrders(){return this.http.get(this.apiUrl)}updateOrder(e){return this.http.put(`${this.apiUrl}/${e.id}`,e)}assignDriver(e){return this.http.patch(`${this.apiUrl}/${e.id}/assign-driver`,e)}updateOrderStatus(e,t,i){return this.http.patch(`${this.apiUrl}/${e}/status`,{status:t,latitude:i?.lat,longitude:i?.lon})}updatePod(e,t,i){return navigator.geolocation?new p(r=>{navigator.geolocation.getCurrentPosition(n=>{let o={status:t,podNumber:i,latitude:n.coords.latitude,longitude:n.coords.longitude};this.http.patch(`${this.apiUrl}/${e}/status`,o).subscribe({next:s=>{r.next(s),r.complete()},error:s=>r.error(s)})},n=>{console.warn("Geolocation error:",n),this.http.patch(`${this.apiUrl}/${e}/status`,{status:t,podNumber:i}).subscribe({next:o=>{r.next(o),r.complete()},error:o=>r.error(o)})},{enableHighAccuracy:!0,timeout:3e3,maximumAge:1e4})}):this.http.patch(`${this.apiUrl}/${e}/status`,{status:t,podNumber:i})}driverCheckIn(e,t){return this.http.patch(`${this.apiUrl}/${e}/check-in`,{latitude:t.lat,longitude:t.lon})}getOrderCheckIns(e){return this.http.get(`${this.apiUrl}/${e}/check-ins`)}createOrders(){return this.orders.forEach(e=>{this.http.post(this.apiUrl,e).subscribe()}),d(void 0)}deleteOrder(e){return this.http.delete(`${this.apiUrl}/${e}`)}getDriverOrders(){let e=this.sessionService.getCurrentDriverId();return e?this.http.get(`${this.apiUrl}/driver/${e}`):d([])}getCurrentOrder(e){return this.http.get(`${this.apiUrl}/${e}`).pipe(u(t=>(this.currentOrder=t,t)))}setCurrentOrder(e){this.currentOrder=e}completeOrder(e){return this.http.patch(`${this.apiUrl}/${e.orderId}/complete`,e)}getOrdersReport(e,t){let i=`${l.apiUrl}/reports/orders?startDate=${e}&endDate=${t}`;return this.http.get(i)}getSampleOrders(){return d(this.orders)}orders=[{id:"b1a2c3d4-e5f6-7890-ab12-cd34ef567890",orderNumber:"ORD-1001",loadNumber:"ACME-2024-001",podNumber:"POD-1001",brokerName:"Acme Corp",brokerContact:"+1-555-1234",brokerEmail:"dispatch@acmecorp.com",invoiceEmail:"billing@acmecorp.com",originStreetAddress:"123 Main St",originCity:"Dallas",originState:"TX",originZipcode:"75201",originCountry:"USA",destinationStreetAddress:"456 Oak Ave",destinationCity:"Atlanta",destinationState:"GA",destinationZipcode:"30303",destinationCountry:"USA",description:"10 pallets electronics",status:"In Transit",driverId:null,truckId:null,driverCosts:[],dispatcherCosts:[{description:"Insurance",amount:100},{description:"Miscellaneous",amount:50},{description:"Service Fee",amount:75}],documents:[],invoiceId:"INV-1001",rate:1500,pickupDateAndTime:"",dropOffDateAndTime:""},{id:"c2b3d4e5-f6a7-8901-bc23-de45fa678901",orderNumber:"ORD-1002",loadNumber:"2024-002",podNumber:"POD-1002",brokerName:"Globex Inc",brokerContact:"+1-555-5678",brokerEmail:"loads@globexinc.com",invoiceEmail:"accounts@globexinc.com",originStreetAddress:"789 Pine Rd",originCity:"Houston",originState:"TX",originZipcode:"77001",originCountry:"USA",destinationStreetAddress:"321 Maple Dr",destinationCity:"Miami",destinationState:"FL",destinationZipcode:"33101",destinationCountry:"USA",description:"Furniture, 5 crates",status:"Delivered",driverId:null,truckId:null,driverCosts:[{amount:150,description:"Toll fees"}],dispatcherCosts:[],documents:[{id:"1",documentType:"PoD",fileName:"pod-1002.pdf",url:"https://example.com/pod-1002.pdf",expires:"2025-12-31",fileType:"pdf"}],invoiceId:"INV-1002",rate:1200,pickupDateAndTime:"",dropOffDateAndTime:""},{id:"d3c4e5f6-a7b8-9012-cd34-ef56ab789012",orderNumber:"ORD-1003",loadNumber:"WAYNE-2024-003",brokerName:"Wayne Enterprises",brokerContact:"+1-555-1111",brokerEmail:"logistics@wayneenterprises.com",invoiceEmail:"finance@wayneenterprises.com",originStreetAddress:"100 Gotham St",originCity:"Gotham",originState:"NY",originZipcode:"10001",originCountry:"USA",destinationStreetAddress:"200 Wayne Ave",destinationCity:"Metropolis",destinationState:"IL",destinationZipcode:"60601",destinationCountry:"USA",description:"Industrial equipment",status:"Cancelled",driverId:null,truckId:null,driverCosts:[],dispatcherCosts:[],documents:[],rate:1500,pickupDateAndTime:"",dropOffDateAndTime:""},{id:"e4d5f6a7-b8c9-0123-de45-fa67bc890123",orderNumber:"ORD-1004",loadNumber:"STARK-004",brokerName:"Stark Industries",brokerContact:"+1-555-2222",brokerEmail:"shipping@starkindustries.com",invoiceEmail:"ap@starkindustries.com",originStreetAddress:"10880 Malibu Point",originCity:"Malibu",originState:"CA",originZipcode:"90265",originCountry:"USA",destinationStreetAddress:"1 Stark Tower",destinationCity:"New York",destinationState:"NY",destinationZipcode:"10010",destinationCountry:"USA",description:"Steel beams",status:"In Transit",driverId:null,truckId:null,driverCosts:[],dispatcherCosts:[],documents:[],rate:1500,pickupDateAndTime:"",dropOffDateAndTime:""},{id:"f5e6a7b8-c9d0-1234-ef56-ab67cd890234",orderNumber:"ORD-1006",loadNumber:"2024-005",brokerName:"Umbrella Corp",brokerContact:"+1-555-4444",brokerEmail:"transport@umbrellacorp.com",invoiceEmail:"billing@umbrellacorp.com",originStreetAddress:"1 Raccoon St",originCity:"Raccoon City",originState:"OH",originZipcode:"44101",originCountry:"USA",destinationStreetAddress:"99 Hive Rd",destinationCity:"Cleveland",destinationState:"OH",destinationZipcode:"44102",destinationCountry:"USA",description:"Medical supplies",status:"In Transit",driverId:null,truckId:null,driverCosts:[],dispatcherCosts:[],documents:[],rate:1500,pickupDateAndTime:"",dropOffDateAndTime:""},{id:"g6f7a8b9-d0e1-2345-fa67-bc78de901245",orderNumber:"ORD-1008",loadNumber:"SOYLENT-2024-006",brokerName:"Soylent Corp",brokerContact:"+1-555-6666",brokerEmail:"freight@soylentcorp.com",invoiceEmail:"payments@soylentcorp.com",originStreetAddress:"789 Green Rd",originCity:"San Francisco",originState:"CA",originZipcode:"94101",originCountry:"USA",destinationStreetAddress:"321 Blue St",destinationCity:"Los Angeles",destinationState:"CA",destinationZipcode:"90001",destinationCountry:"USA",description:"Food products",status:"In Transit",driverId:null,truckId:null,driverCosts:[],dispatcherCosts:[],documents:[],rate:1500,pickupDateAndTime:"",dropOffDateAndTime:""},{id:"h7g8f9a0-e1d2-3456-ab78-cd89ef012356",orderNumber:"ORD-1010",loadNumber:"TYRELL-2024",brokerName:"Tyrell Corp",brokerContact:"+1-555-8888",brokerEmail:"dispatch@tyrellcorp.com",invoiceEmail:"ar@tyrellcorp.com",originStreetAddress:"400 Blade Runner Ave",originCity:"Los Angeles",originState:"CA",originZipcode:"90012",originCountry:"USA",destinationStreetAddress:"500 Nexus St",destinationCity:"San Diego",destinationState:"CA",destinationZipcode:"92101",destinationCountry:"USA",description:"Synthetic parts",status:"Cancelled",driverId:null,truckId:null,driverCosts:[],dispatcherCosts:[],documents:[],rate:1500,pickupDateAndTime:"",dropOffDateAndTime:""},{id:"i8h9g0f1-e2d3-4567-ba89-de90fa123467",orderNumber:"ORD-1011",loadNumber:"WONKA-2024-008",brokerName:"Wonka Industries",brokerContact:"+1-555-9999",brokerEmail:"shipping@wonka.com",invoiceEmail:"finance@wonka.com",originStreetAddress:"1 Chocolate Factory",originCity:"London",originState:"UK",originZipcode:"85741",originCountry:"USA",destinationStreetAddress:"2 Candy Rd",destinationCity:"Manchester",destinationState:"UK",destinationZipcode:"M1",destinationCountry:"UK",description:"Confectionery",status:"In Transit",driverId:null,truckId:null,driverCosts:[],dispatcherCosts:[],documents:[],rate:1500,pickupDateAndTime:"",dropOffDateAndTime:""},{id:"j9i0h1g2-f3e4-5678-ab90-ef01ba234578",orderNumber:"ORD-1012",loadNumber:"BLACKMESA-2024-009",podNumber:"POD-1012",brokerName:"Black Mesa",brokerContact:"+1-555-1010",brokerEmail:"logistics@blackmesa.gov",invoiceEmail:"accounting@blackmesa.gov",originStreetAddress:"42 Lambda Complex",originCity:"Mesa",originState:"NM",originZipcode:"87001",originCountry:"USA",destinationStreetAddress:"7 Aperture Ave",destinationCity:"Portland",destinationState:"OR",destinationZipcode:"97035",destinationCountry:"USA",description:"Research equipment",status:"Delivered",driverId:null,truckId:null,driverCosts:[{amount:200,description:"Hazardous materials fee"},{amount:50,description:"Fuel surcharge"}],dispatcherCosts:[],documents:[{id:"1",documentType:"Rate Confirmation",fileName:"rate-confirmation-1012.pdf",url:"https://example.com/rate-confirmation-1012.pdf",expires:"2025-12-31",fileType:"pdf"}],invoiceId:"INV-1012",rate:1800,dropOffDateAndTime:"",pickupDateAndTime:""},{id:"k0j1i2h3-g4f5-6789-ba01-fe12cd345689",orderNumber:"ORD-1013",loadNumber:"PIEDPIPER-2024-010",brokerName:"Pied Piper",brokerContact:"+1-555-1212",brokerEmail:"dispatch@piedpiper.com",invoiceEmail:"billing@piedpiper.com",originStreetAddress:"500 Silicon Ave",originCity:"Palo Alto",originState:"CA",originZipcode:"94301",originCountry:"USA",destinationStreetAddress:"100 Startup Rd",destinationCity:"Mountain View",destinationState:"CA",destinationZipcode:"94043",destinationCountry:"USA",description:"Compression servers",status:"New",driverId:null,truckId:null,driverCosts:[],dispatcherCosts:[],documents:[],rate:1500,pickupDateAndTime:"2024-10-01T10:00:00Z",dropOffDateAndTime:"2024-10-01T14:00:00Z"},{id:"l1k2j3h4-f5g6-7890-ab12-cd34ef567890",orderNumber:"ORD-1014",loadNumber:"HOOLI-2024-011",brokerName:"Hooli",brokerContact:"+1-555-3434",brokerEmail:"freight@hooli.com",invoiceEmail:"ap@hooli.com",originStreetAddress:"1 Hooli Plaza",originCity:"Redwood City",originState:"CA",originZipcode:"94065",originCountry:"USA",destinationStreetAddress:"99 Tech Park",destinationCity:"San Jose",destinationState:"CA",destinationZipcode:"95110",destinationCountry:"USA",description:"Cloud hardware",status:"New",driverId:null,truckId:null,driverCosts:[],dispatcherCosts:[],documents:[],rate:1500,pickupDateAndTime:"2024-10-02T09:00:00Z",dropOffDateAndTime:"2024-10-02T13:00:00Z"},{id:"l1k2j3h4-f5g6-7890-ab12-cd34ef56",orderNumber:"ORD-1015",loadNumber:"HOOLI-2024-012",brokerName:"Hooli",brokerContact:"+1-555-3434",brokerEmail:"freight@hooli.com",invoiceEmail:"ap@hooli.com",originStreetAddress:"1 Hooli Plaza",originCity:"Redwood City",originState:"CA",originZipcode:"94065",originCountry:"USA",destinationStreetAddress:"458 Tech Rd",destinationCity:"Portland",destinationState:"OR",destinationZipcode:"97205",destinationCountry:"USA",description:"Cloud hardware",status:"New",driverId:null,truckId:null,driverCosts:[],dispatcherCosts:[],documents:[],rate:1500,dropOffDateAndTime:"",pickupDateAndTime:""}];static \u0275fac=function(t){return new(t||a)(c(b),c(C))};static \u0275prov=m({token:a,factory:a.\u0275fac,providedIn:"root"})};export{g as a};
