import{a as F}from"./chunk-TN3NC3WE.js";import{e as I}from"./chunk-NLBBH4OK.js";import{k as S,l as _,m as E,n as C}from"./chunk-ZMPNCMD4.js";import{Eb as b,Fb as y,Hb as w,Ia as o,Na as m,Sa as D,X as g,Xa as c,Y as f,cb as p,eb as i,fb as t,jb as h,mb as v,nb as x,sb as n,tb as d,ub as u}from"./chunk-LZRDGPC4.js";var N=(a,r,e)=>({"bg-green-100 text-green-800":a,"bg-yellow-100 text-yellow-800":r,"bg-red-100 text-red-800":e});function A(a,r){a&1&&(i(0,"span",16),n(1,"\u26A0\uFE0F"),t())}function L(a,r){if(a&1){let e=h();i(0,"tr",10)(1,"td",11),n(2),t(),i(3,"td",12),n(4),t(),i(5,"td",12),n(6),t(),i(7,"td",12),c(8,A,2,0,"span",13),n(9),y(10,"date"),t(),i(11,"td",12),n(12),t(),i(13,"td",12)(14,"span",14),n(15),t()(),i(16,"td",12)(17,"button",15),v("click",function(){let l=g(e).$implicit,M=x();return f(M.viewDriver(l))}),n(18," View "),t()()()}if(a&2){let e=r.$implicit,s=x();o(2),d(e.name),o(2),d(e.phone),o(2),d(e.license),o(2),p("ngIf",s.isLicenseExpiringSoon(e.expirationDate)),o(),u(" ",w(10,8,e.expirationDate,"MM/dd/yyyy")," "),o(3),d((e.truck==null?null:e.truck.plate)||"\u2014"),o(2),p("ngClass",b(11,N,e.status==="Active",e.status==="On Leave",e.status==="Inactive")),o(),u(" ",e.status," ")}}var k=class a{constructor(r,e){this.driversService=r;this.router=e}drivers=[];ngOnInit(){this.driversService.getDrivers().subscribe(r=>{this.drivers=r})}addDriver(){alert("Add Driver clicked")}viewDriver(r){this.router.navigate(["/dispatcher/drivers",r.id])}isLicenseExpiringSoon(r){let e=new Date(r),s=new Date,l=new Date;return l.setMonth(s.getMonth()+1),e<l}static \u0275fac=function(e){return new(e||a)(m(F),m(I))};static \u0275cmp=D({type:a,selectors:[["app-drivers"]],decls:28,vars:1,consts:[[1,"p-6","pt-0"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-3xl","font-bold","text-green-900","flex","items-center","gap-2"],[1,"bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded","shadow","font-semibold","transition",3,"click"],[1,"overflow-x-auto","rounded-lg","shadow-lg","bg-white"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-green-900","text-white"],[1,"px-4","py-3","text-left","font-semibold"],[1,"bg-white","divide-y","divide-gray-100"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[1,"hover:bg-green-50","transition"],[1,"px-4","py-2","font-medium","text-green-900"],[1,"px-4","py-2"],["title","License expired or expiring soon","class","text-yellow-500 align-middle ml-1",4,"ngIf"],[1,"px-2","py-1","rounded","text-xs","font-semibold",3,"ngClass"],[1,"bg-blue-600","hover:bg-blue-700","transition","text-white","px-3","py-1","rounded","shadow",3,"click"],["title","License expired or expiring soon",1,"text-yellow-500","align-middle","ml-1"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span"),n(4,"\u{1F9D1}\u200D\u2708\uFE0F"),t(),n(5," Drivers "),t(),i(6,"button",3),v("click",function(){return s.addDriver()}),n(7," + Add Driver "),t()(),i(8,"div",4)(9,"table",5)(10,"thead",6)(11,"tr")(12,"th",7),n(13,"Name"),t(),i(14,"th",7),n(15,"Phone"),t(),i(16,"th",7),n(17,"License #"),t(),i(18,"th",7),n(19,"Exp. Date"),t(),i(20,"th",7),n(21,"Assigned Truck"),t(),i(22,"th",7),n(23,"Status"),t(),i(24,"th",7),n(25,"Actions"),t()()(),i(26,"tbody",8),c(27,L,19,15,"tr",9),t()()()()),e&2&&(o(27),p("ngForOf",s.drivers))},dependencies:[_,E,S,C],encapsulation:2})};export{k as DriversComponent};
