import{a as w}from"./chunk-OV624ATH.js";import"./chunk-XPCCV2FB.js";import{e as b}from"./chunk-3TOGTSGL.js";import"./chunk-FSJQQIFH.js";import{l as T,m as _}from"./chunk-QAAQ2EEP.js";import{$ as f,Ab as l,Bb as h,La as c,Qa as p,Va as v,_ as g,_a as d,gb as m,kb as i,lb as t,pb as k,sb as x,tb as u,zb as n}from"./chunk-QJGZKU5F.js";function S(o,r){if(o&1&&(i(0,"div",17),n(1),t()),o&2){let e=u().$implicit;c(),l(e.driver.phone)}}function I(o,r){if(o&1&&(i(0,"span",18),n(1,"\u26A0\uFE0F"),t()),o&2){let e=u().$implicit;m("title",e.warnings.join(", "))}}function C(o,r){if(o&1){let e=k();i(0,"tr",10)(1,"td",11),n(2),t(),i(3,"td",12),n(4),t(),i(5,"td",12),n(6),t(),i(7,"td",12)(8,"div",13),n(9),t(),d(10,S,2,1,"div",14),t(),i(11,"td",12),n(12),t(),i(13,"td",12)(14,"button",15),x("click",function(){let s=g(e).$implicit,E=u();return f(E.viewTruck(s.id))}),n(15," View "),t(),d(16,I,2,1,"span",16),t()()}if(o&2){let e=r.$implicit;c(2),l(e.dotNumber),c(2),l(e.plate),c(2),l(e.type),c(3),l((e.driver==null?null:e.driver.name)||"\u2014"),c(),m("ngIf",e.driver),c(2),h("",e.documents.length?e.documents.length:"No "," documents"),c(4),m("ngIf",e.warnings.length>0)}}var y=class o{constructor(r,e){this.trucksService=r;this.router=e}trucks=[];ngOnInit(){this.fetchTrucks()}fetchTrucks(){this.trucksService.getTrucks().subscribe(r=>{this.trucks=r})}viewTruck(r){this.router.navigate(["/dispatcher/trucks/",r])}isInsuranceExpiringSoon(r){if(!r)return!0;let e=new Date(r),a=new Date,s=new Date;return s.setMonth(a.getMonth()+1),e<s}addTruck(){this.router.navigate(["/dispatcher/trucks/new"])}static \u0275fac=function(e){return new(e||o)(p(w),p(b))};static \u0275cmp=v({type:o,selectors:[["app-trucks"]],decls:26,vars:1,consts:[[1,"p-6","pt-0"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-3xl","font-bold","text-green-900","flex","items-center","gap-2"],[1,"bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded","shadow","font-semibold","transition",3,"click"],[1,"overflow-x-auto","rounded-lg","shadow-lg","bg-white"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-green-900","text-white"],[1,"px-4","py-3","text-left","font-semibold"],[1,"bg-white","divide-y","divide-gray-100"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[1,"hover:bg-green-50","transition"],[1,"px-4","py-2","font-medium","text-green-900"],[1,"px-4","py-2"],[1,"font-semibold"],["class","text-xs text-gray-500",4,"ngIf"],[1,"bg-blue-600","hover:bg-blue-700","transition","text-white","px-3","py-1","rounded","shadow",3,"click"],["class","text-yellow-500 align-middle ml-1",3,"title",4,"ngIf"],[1,"text-xs","text-gray-500"],[1,"text-yellow-500","align-middle","ml-1",3,"title"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2)(3,"span"),n(4,"\u{1F69A}"),t(),n(5," Trucks "),t(),i(6,"button",3),x("click",function(){return a.addTruck()}),n(7," + Add Truck "),t()(),i(8,"div",4)(9,"table",5)(10,"thead",6)(11,"tr")(12,"th",7),n(13,"DOT #"),t(),i(14,"th",7),n(15,"Plate"),t(),i(16,"th",7),n(17,"Type"),t(),i(18,"th",7),n(19,"Driver"),t(),i(20,"th",7),n(21,"Documents"),t(),i(22,"th",7),n(23,"Actions"),t()()(),i(24,"tbody",8),d(25,C,17,7,"tr",9),t()()()()),e&2&&(c(25),m("ngForOf",a.trucks))},dependencies:[T,_],encapsulation:2})};export{y as TrucksComponent};
