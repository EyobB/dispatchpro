import{a as B}from"./chunk-S7HWF73Q.js";import{b as O,d as P,g as k,l as V,m as W,n as A,u as L}from"./chunk-2PVWNWUN.js";import"./chunk-XPCCV2FB.js";import{e as D}from"./chunk-3TOGTSGL.js";import"./chunk-FSJQQIFH.js";import{k as N,l as M,m as T,q as F}from"./chunk-QAAQ2EEP.js";import{$ as I,Ab as c,Bb as g,Eb as f,Fb as h,Gb as x,La as o,Lb as w,Nb as y,Pb as E,Qa as u,Va as S,_ as C,_a as v,gb as d,kb as i,lb as t,pb as _,sb as p,tb as b,zb as n}from"./chunk-QJGZKU5F.js";var R=(s,r,e)=>({"bg-green-100 text-green-800":s,"bg-yellow-100 text-yellow-800":r,"bg-red-100 text-red-800":e});function q(s,r){if(s&1&&(i(0,"option",14),n(1),t()),s&2){let e=r.$implicit;d("value",e),o(),c(e)}}function z(s,r){if(s&1){let e=_();i(0,"tr",15)(1,"td",16),n(2),t(),i(3,"td",17),n(4),t(),i(5,"td",17),n(6),t(),i(7,"td",17),n(8),t(),i(9,"td",17),n(10),y(11,"number"),t(),i(12,"td",17),n(13),t(),i(14,"td",17)(15,"span",18),n(16),t()(),i(17,"td",17)(18,"button",19),p("click",function(){let m=C(e).$implicit,l=b();return I(l.viewInvoice(m))}),n(19," View "),t()()()}if(s&2){let e=r.$implicit;o(2),c(e.invoiceNumber),o(2),c(e.loadNumber),o(2),c(e.brokerName),o(2),c(e.invoiceDate),o(2),g("$",E(11,8,e.totalCost,"1.2-2"),""),o(3),c(e.factoring?e.factoring:"No"),o(2),d("ngClass",w(11,R,e.status==="Paid",e.status==="Pending",e.status==="Overdue")),o(),g(" ",e.status," ")}}function G(s,r){s&1&&(i(0,"tr")(1,"td",20),n(2,"No invoices found."),t()())}var j=class s{constructor(r,e){this.router=r;this.invoiceService=e}invoices=[];filteredInvoices=[];statuses=["Pending","Overdue","Paid"];searchTerm="";selectedStatus="";ngOnInit(){this.invoiceService.getCarrierInvoices().subscribe(r=>{this.invoices=r,this.filteredInvoices=this.invoices},r=>{console.error("Error loading invoices:",r)})}filterInvoices(){this.filteredInvoices=this.invoices.filter(r=>{let e=this.selectedStatus?r.status===this.selectedStatus:!0,a=this.searchTerm?(r.invoiceNumber+r.brokerName+r.status).toLowerCase().includes(this.searchTerm.toLowerCase()):!0;return e&&a})}viewInvoice(r){this.router.navigate(["/dispatcher/carrier-invoices",r.id,r.orderId])}static \u0275fac=function(e){return new(e||s)(u(D),u(B))};static \u0275cmp=S({type:s,selectors:[["app-carrier-invoices"]],decls:34,vars:5,consts:[[1,"flex","items-center","justify-between","mb-6"],[1,"text-3xl","font-bold","text-green-900","flex","items-center","gap-2"],[1,"mb-4","flex","flex-col","sm:flex-row","gap-2","sm:items-center"],["type","text","placeholder","Search by Invoice #, Customer, or Status",1,"border","border-green-200","rounded","p-2","w-full","sm:w-64",3,"ngModelChange","input","ngModel"],[1,"border","border-green-200","rounded","p-2","w-full","sm:w-48",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"overflow-x-auto","rounded-lg","shadow","bg-white"],[1,"min-w-full","divide-y","divide-green-100"],[1,"bg-green-900","text-white"],[1,"px-4","py-2","text-left","font-semibold"],[1,"bg-white","divide-y","divide-green-50"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"hover:bg-green-50","transition"],[1,"px-4","py-2","font-semibold"],[1,"px-4","py-2"],[1,"px-2","py-1","rounded","text-xs","font-semibold",3,"ngClass"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-3","py-1","rounded","shadow",3,"click"],["colspan","6",1,"text-center","text-gray-500","py-6"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1)(2,"span"),n(3,"\u{1F9FE}"),t(),n(4,"Carrier Invoices "),t()(),i(5,"div",2)(6,"input",3),x("ngModelChange",function(l){return h(a.searchTerm,l)||(a.searchTerm=l),l}),p("input",function(){return a.filterInvoices()}),t(),i(7,"select",4),x("ngModelChange",function(l){return h(a.selectedStatus,l)||(a.selectedStatus=l),l}),p("change",function(){return a.filterInvoices()}),i(8,"option",5),n(9,"All Statuses"),t(),v(10,q,2,2,"option",6),t()(),i(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),n(16,"Invoice #"),t(),i(17,"th",10),n(18,"Load #"),t(),i(19,"th",10),n(20,"Broker"),t(),i(21,"th",10),n(22,"Date"),t(),i(23,"th",10),n(24,"Amount"),t(),i(25,"th",10),n(26,"Factoring?"),t(),i(27,"th",10),n(28,"Status"),t(),i(29,"th",10),n(30,"Actions"),t()()(),i(31,"tbody",11),v(32,z,20,15,"tr",12)(33,G,3,0,"tr",13),t()()()),e&2&&(o(6),f("ngModel",a.searchTerm),o(),f("ngModel",a.selectedStatus),o(3),d("ngForOf",a.statuses),o(22),d("ngForOf",a.filteredInvoices),o(),d("ngIf",a.filteredInvoices.length===0))},dependencies:[L,W,A,O,V,P,k,F,M,N,T],encapsulation:2})};export{j as CarrierInvoicesComponent};
