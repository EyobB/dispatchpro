import{a as Q,b as X,c as Y}from"./chunk-IEI5TKEC.js";import{a as K}from"./chunk-2HJPDEZU.js";import{b as R,c as y,d as O,e as q,h as G,i as L,j,k as z,l as $,m as H,n as U,p as W,t as Z,v as J}from"./chunk-2PVWNWUN.js";import{a as M}from"./chunk-OXCJF6DH.js";import"./chunk-XPCCV2FB.js";import{c as V,f as B}from"./chunk-3TOGTSGL.js";import"./chunk-FSJQQIFH.js";import{k as F,l as T,m as A,o as k,p as P,r as N}from"./chunk-QAAQ2EEP.js";import{$ as f,Ab as p,Bb as C,Cb as S,La as d,Nb as u,Ob as _,Pb as I,Qa as D,Va as E,_ as x,_a as c,gb as m,jb as w,kb as t,lb as e,mb as b,pb as h,sb as g,tb as s,zb as n}from"./chunk-QJGZKU5F.js";function te(r,a){if(r&1){let i=h();t(0,"button",35),g("click",function(){x(i);let l=s();return f(l.approveInvoice())}),n(1," Approve "),e()}}function ie(r,a){if(r&1){let i=h();t(0,"button",36),g("click",function(){x(i);let l=s();return f(l.revertToDraft())}),n(1," Revert to Draft "),e()}}function ne(r,a){if(r&1){let i=h();t(0,"button",37),g("click",function(){x(i);let l=s();return f(l.completeInvoice())}),n(1," Complete "),e()}if(r&2){let i=s();m("disabled",i.updatingStatus)}}function re(r,a){r&1&&(t(0,"span",38)(1,"span",39),n(2,"\u23F3"),e(),n(3," Updating... "),e())}function oe(r,a){if(r&1&&(t(0,"tr",40)(1,"td",41),n(2),e(),t(3,"td",41),n(4),e(),t(5,"td",41),n(6),e(),t(7,"td",41),n(8),e(),t(9,"td",42),n(10),u(11,"currency"),e()()),r&2){let i=a.$implicit;d(2),p(i.orderNumber),d(2),p(i.loadNumber),d(2),S("",i.originCity,", ",i.originState,""),d(2),S("",i.destinationCity,", ",i.destinationState,""),d(2),p(_(11,7,i.orderAmount))}}function ae(r,a){r&1&&(t(0,"span"),n(1,"+ Add Deduction"),e())}function de(r,a){r&1&&(t(0,"span"),n(1,"Cancel"),e())}function le(r,a){if(r&1){let i=h();t(0,"button",43),g("click",function(){x(i);let l=s();return f(l.toggleAddDeductionForm())}),c(1,ae,2,0,"span",44)(2,de,2,0,"span",44),e()}if(r&2){let i=s();d(),m("ngIf",!i.showAddDeductionForm),d(),m("ngIf",i.showAddDeductionForm)}}function me(r,a){r&1&&(t(0,"div",56),n(1,"Description is required"),e())}function se(r,a){r&1&&(t(0,"span"),n(1,"Amount is required"),e())}function ce(r,a){r&1&&(t(0,"span"),n(1,"Amount must be greater than 0"),e())}function pe(r,a){if(r&1&&(t(0,"div",56),c(1,se,2,0,"span",44)(2,ce,2,0,"span",44),e()),r&2){let i,o,l=s(2);d(),m("ngIf",(i=l.deductionForm.get("amount"))==null||i.errors==null?null:i.errors.required),d(),m("ngIf",(o=l.deductionForm.get("amount"))==null||o.errors==null?null:o.errors.min)}}function ue(r,a){if(r&1){let i=h();t(0,"div",45)(1,"h4",46),n(2,"Add New Deduction"),e(),t(3,"form",47),g("ngSubmit",function(){x(i);let l=s();return f(l.addDeduction())}),t(4,"div",48)(5,"label",49),n(6,"Description *"),e(),b(7,"input",50),c(8,me,2,0,"div",51),e(),t(9,"div")(10,"label",49),n(11,"Amount *"),e(),b(12,"input",52),c(13,pe,3,2,"div",51),e(),t(14,"div",53)(15,"button",54),n(16,"Add Deduction"),e(),t(17,"button",55),g("click",function(){x(i);let l=s();return f(l.toggleAddDeductionForm())}),n(18,"Cancel"),e()()()()}if(r&2){let i,o,l=s();d(3),m("formGroup",l.deductionForm),d(5),m("ngIf",((i=l.deductionForm.get("description"))==null?null:i.touched)&&((i=l.deductionForm.get("description"))==null?null:i.errors)),d(5),m("ngIf",((o=l.deductionForm.get("amount"))==null?null:o.touched)&&((o=l.deductionForm.get("amount"))==null?null:o.errors)),d(2),m("disabled",!l.deductionForm.valid)}}function ve(r,a){if(r&1){let i=h();t(0,"button",66),g("click",function(){x(i);let l=s().$implicit,v=s(2);return f(v.removeDeduction(l.id))}),n(1,"Remove"),e()}}function xe(r,a){if(r&1&&(t(0,"tr",63)(1,"td",41),n(2),e(),t(3,"td",42),n(4),u(5,"currency"),e(),t(6,"td",64),c(7,ve,2,0,"button",65),e()()),r&2){let i=a.$implicit,o=s(2);d(2),p(i.description),d(2),p(_(5,3,i.amount)),d(3),m("ngIf",o.isDraft())}}function fe(r,a){if(r&1&&(t(0,"div",16)(1,"table",17)(2,"thead",57)(3,"tr")(4,"th",19),n(5,"Description"),e(),t(6,"th",20),n(7,"Amount"),e(),t(8,"th",58),n(9,"Actions"),e()()(),t(10,"tbody",21),c(11,xe,8,5,"tr",59),t(12,"tr",60)(13,"td",61),n(14,"Total Deductions"),e(),t(15,"td",62),n(16),u(17,"currency"),e()()()()()),r&2){let i=s();d(11),m("ngForOf",i.invoice.deductions),d(5),p(_(17,2,i.invoice.deductionsTotal))}}function ge(r,a){r&1&&(t(0,"div",67)(1,"span",68),n(2,"\u2796"),e(),t(3,"p"),n(4,"No deductions applied to this invoice."),e(),t(5,"p",69),n(6,'Click "Add Deduction" to create one.'),e()())}function _e(r,a){r&1&&(t(0,"span"),n(1,"+ Add Payment"),e())}function he(r,a){r&1&&(t(0,"span"),n(1,"Cancel"),e())}function ye(r,a){if(r&1){let i=h();t(0,"button",70),g("click",function(){x(i);let l=s();return f(l.toggleAddPaymentForm())}),c(1,_e,2,0,"span",44)(2,he,2,0,"span",44),e()}if(r&2){let i=s();d(),m("ngIf",!i.showAddPaymentForm),d(),m("ngIf",i.showAddPaymentForm)}}function be(r,a){r&1&&(t(0,"div",56),n(1," Date is required "),e())}function De(r,a){r&1&&(t(0,"div",56),n(1," Reference number is required "),e())}function Se(r,a){if(r&1&&(t(0,"option",85),n(1),e()),r&2){let i=a.$implicit;m("value",i),d(),p(i)}}function Ie(r,a){r&1&&(t(0,"span"),n(1,"Amount is required"),e())}function Ce(r,a){r&1&&(t(0,"span"),n(1,"Amount must be greater than 0"),e())}function Ee(r,a){if(r&1&&(t(0,"div",56),c(1,Ie,2,0,"span",44)(2,Ce,2,0,"span",44),e()),r&2){let i,o,l=s(2);d(),m("ngIf",(i=l.paymentForm.get("amount"))==null||i.errors==null?null:i.errors.required),d(),m("ngIf",(o=l.paymentForm.get("amount"))==null||o.errors==null?null:o.errors.min)}}function we(r,a){if(r&1){let i=h();t(0,"div",45)(1,"h4",46),n(2,"Add New Payment"),e(),t(3,"form",71),g("ngSubmit",function(){x(i);let l=s();return f(l.addPayment())}),t(4,"div")(5,"label",72),n(6,"Date *"),e(),b(7,"input",73),c(8,be,2,0,"div",51),e(),t(9,"div")(10,"label",74),n(11,"Reference # *"),e(),b(12,"input",75),c(13,De,2,0,"div",51),e(),t(14,"div")(15,"label",76),n(16,"Payment Method *"),e(),t(17,"select",77),c(18,Se,2,2,"option",78),e()(),t(19,"div")(20,"label",79),n(21,"Amount *"),e(),b(22,"input",80),c(23,Ee,3,2,"div",51),e(),t(24,"div",48)(25,"label",81),n(26,"Notes"),e(),t(27,"textarea",82),n(28,"          "),e()(),t(29,"div",83)(30,"button",84),n(31," Add Payment "),e(),t(32,"button",55),g("click",function(){x(i);let l=s();return f(l.toggleAddPaymentForm())}),n(33," Cancel "),e()()()()}if(r&2){let i,o,l,v=s();d(3),m("formGroup",v.paymentForm),d(5),m("ngIf",((i=v.paymentForm.get("date"))==null?null:i.touched)&&((i=v.paymentForm.get("date"))==null?null:i.errors)),d(5),m("ngIf",((o=v.paymentForm.get("referenceNumber"))==null?null:o.touched)&&((o=v.paymentForm.get("referenceNumber"))==null?null:o.errors)),d(5),m("ngForOf",v.paymentMethods),d(5),m("ngIf",((l=v.paymentForm.get("amount"))==null?null:l.touched)&&((l=v.paymentForm.get("amount"))==null?null:l.errors)),d(7),m("disabled",!v.paymentForm.valid)}}function Fe(r,a){if(r&1){let i=h();t(0,"button",89),g("click",function(){x(i);let l=s().$implicit,v=s(2);return f(v.removePayment(l.id))}),n(1," Remove "),e()}}function Te(r,a){if(r&1&&(t(0,"tr",40)(1,"td",41),n(2),u(3,"date"),e(),t(4,"td",41),n(5),e(),t(6,"td",41),n(7),e(),t(8,"td",86),n(9),u(10,"currency"),e(),t(11,"td",87),n(12),e(),t(13,"td",64),c(14,Fe,2,0,"button",88),e()()),r&2){let i=a.$implicit,o=s(2);d(2),p(I(3,6,i.date,"MMM dd, yyyy")),d(3),p(i.referenceNumber),d(2),p(i.method),d(2),p(_(10,9,i.amount)),d(3),p(i.notes||"-"),d(2),m("ngIf",!o.isComplete())}}function Ae(r,a){if(r&1&&(t(0,"div",16)(1,"table",17)(2,"thead",18)(3,"tr")(4,"th",19),n(5,"Date"),e(),t(6,"th",19),n(7,"Reference #"),e(),t(8,"th",19),n(9,"Method"),e(),t(10,"th",20),n(11,"Amount"),e(),t(12,"th",19),n(13,"Notes"),e(),t(14,"th",58),n(15,"Actions"),e()()(),t(16,"tbody",21),c(17,Te,15,11,"tr",22),e()()()),r&2){let i=s();d(17),m("ngForOf",i.invoice.payments)}}function ke(r,a){r&1&&(t(0,"div",90)(1,"span",68),n(2,"\u{1F4B3}"),e(),t(3,"p"),n(4,"No payments recorded for this invoice."),e(),t(5,"p",69),n(6,'Click "Add Payment" to record a payment.'),e()())}var ee=class r{constructor(a,i,o,l){this.route=a;this.invoiceService=i;this.fb=o;this.toast=l}invoice=new Q;showAddPaymentForm=!1;showAddDeductionForm=!1;paymentForm;deductionForm;paymentMethods=["Check","Zelle","ACH","Wire Transfer","Cash","Credit Card","Other"];updatingStatus=!1;ngOnInit(){this.initializePaymentForm(),this.initializeDeductionForm();let a=this.route.snapshot.paramMap.get("id");if(!a){console.error("No invoice ID provided");return}this.loadInvoiceDetails(a)}initializePaymentForm(){this.paymentForm=this.fb.group({date:["",y.required],referenceNumber:["",y.required],method:["Check",y.required],amount:["",[y.required,y.min(.01)]],notes:[""]})}initializeDeductionForm(){this.deductionForm=this.fb.group({description:["",y.required],amount:["",[y.required,y.min(.01)]]})}loadInvoiceDetails(a){a&&this.invoiceService.getDriverInvoice(a).subscribe({next:i=>{i?this.invoice=i:console.error("Invoice not found")},error:i=>{console.error("Error loading invoice details",i)}})}getStatusClass(a){switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}toggleAddPaymentForm(){if(this.showAddPaymentForm=!this.showAddPaymentForm,this.showAddPaymentForm){let a=new Date().toISOString().split("T")[0];this.paymentForm.patchValue({date:a})}else this.paymentForm.reset(),this.initializePaymentForm()}toggleAddDeductionForm(){this.showAddDeductionForm=!this.showAddDeductionForm,this.showAddDeductionForm||(this.deductionForm.reset(),this.initializeDeductionForm())}addPayment(){if(this.paymentForm.valid){let a=new Y;a.date=this.paymentForm.value.date,a.referenceNumber=this.paymentForm.value.referenceNumber,a.method=this.paymentForm.value.method,a.amount=parseFloat(this.paymentForm.value.amount),a.notes=this.paymentForm.value.notes,this.invoiceService.addPayment(this.invoice.id,a).subscribe({next:i=>{i?(this.invoice.payments.push(i),this.toast.showSuccess("Payment added successfully")):this.toast.showError("Failed to add payment")},error:i=>{console.error("Error adding payment",i),this.toast.showError("Failed to add payment")}}),this.toggleAddPaymentForm(),console.log("Payment added:",a)}}removePayment(a){let i=this.invoice.payments.findIndex(o=>o.id===a);i>-1&&(this.invoice.payments.splice(i,1),this.invoiceService.removePayment(this.invoice.id,a).subscribe({next:()=>{this.toast.showSuccess("Payment removed")},error:o=>{console.error("Error removing payment",o),this.toast.showError("Failed to remove payment")}}))}addDeduction(){if(this.deductionForm.valid){let a=new X;a.description=this.deductionForm.value.description,a.amount=parseFloat(this.deductionForm.value.amount),this.invoiceService.addDeduction(this.invoice.id,a).subscribe({next:i=>{i?(this.invoice.deductions.push(i),this.recalculateTotals(),this.toast.showSuccess("Deduction added")):this.toast.showError("Failed to add deduction")},error:i=>{console.error("Error adding deduction",i),this.toast.showError("Failed to add deduction")}}),this.toggleAddDeductionForm()}}removeDeduction(a){let i=this.invoice.deductions.findIndex(o=>o.id===a);if(i>-1){let o=this.invoice.deductions.splice(i,1)[0];this.invoiceService.removeDeduction(this.invoice.id,a).subscribe({next:()=>{this.recalculateTotals(),this.toast.showSuccess("Deduction removed")},error:l=>{console.error("Error removing deduction",l),this.invoice.deductions.splice(i,0,o),this.toast.showError("Failed to remove deduction"),this.recalculateTotals()}})}}recalculateTotals(){this.invoice.deductionsTotal=this.invoice.deductions.reduce((a,i)=>a+i.amount,0),this.invoice.netTotal=this.invoice.ordersTotal-this.invoice.deductionsTotal}getTotalPayments(){return!this.invoice.payments||this.invoice.payments.length===0?0:this.invoice.payments.reduce((a,i)=>a+i.amount,0)}getRemainingBalance(){return this.invoice.netTotal-this.getTotalPayments()}isDraft(){return this.invoice?.status?.toLowerCase()==="draft"}isApproved(){return this.invoice?.status?.toLowerCase()==="approved"}isComplete(){return this.invoice?.status?.toLowerCase()==="completed"}isPaid(){return this.getRemainingBalance()<=0}canComplete(){return this.isApproved()&&this.isPaid()&&!this.isComplete()}approveInvoice(){this.isDraft()&&confirm("Approve this invoice?")&&this.updateInvoiceStatus("Approved")}revertToDraft(){this.isApproved()&&confirm("Revert invoice back to Draft?")&&this.updateInvoiceStatus("Draft")}completeInvoice(){this.canComplete()&&confirm("Mark this fully paid invoice as Complete?")&&this.updateInvoiceStatus("Completed")}updateInvoiceStatus(a){this.invoice&&(this.updatingStatus=!0,this.invoiceService.updateStatus(this.invoice.id,a).subscribe({next:i=>{this.invoice=i,this.updatingStatus=!1},error:()=>{this.updatingStatus=!1}}))}static \u0275fac=function(i){return new(i||r)(D(V),D(K),D(Z),D(M))};static \u0275cmp=E({type:r,selectors:[["app-driver-invoice-details"]],decls:121,vars:44,consts:[[1,"max-w-3xl","mx-auto","p-6","bg-white","rounded-xl","shadow-lg"],[1,"mb-4"],["routerLink","/dispatcher/driver-invoices",1,"text-green-800","hover:underline","flex","items-center","gap-1","font-medium"],[1,"text-xl"],[1,"text-3xl","font-bold","mb-2","text-green-900","flex","items-center","gap-2"],[1,"mb-6","flex","flex-wrap","gap-3","items-center"],["class","bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium transition",3,"click",4,"ngIf"],["class","bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded text-sm font-medium transition",3,"click",4,"ngIf"],["class","bg-green-700 hover:bg-green-800 text-white px-4 py-2 rounded text-sm font-medium transition",3,"disabled","click",4,"ngIf"],["class","text-sm text-gray-500 flex items-center gap-1",4,"ngIf"],[1,"mb-6","bg-green-50","rounded","p-4"],[1,"font-semibold","text-lg","mb-3","text-green-900","flex","items-center","gap-2","bg-green-100","px-3","py-2","rounded"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"font-semibold"],[1,"text-gray-900"],[1,"px-2","py-1","text-xs","font-medium","rounded-full",3,"ngClass"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-green-900","text-white"],[1,"px-6","py-3","text-left","text-xs","font-medium","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[1,"mb-6","bg-red-50","rounded","p-4"],[1,"flex","justify-between","items-center","mb-3","bg-red-100","px-3","py-2","rounded"],[1,"font-semibold","text-lg","text-red-900","flex","items-center","gap-2"],["class","bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-medium transition",3,"click",4,"ngIf"],["class","mb-4 bg-white p-4 rounded border",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],["class","text-center py-8 text-gray-500",4,"ngIf"],[1,"flex","justify-between","items-center","mb-3","bg-green-100","px-3","py-2","rounded"],[1,"font-semibold","text-lg","text-green-900","flex","items-center","gap-2"],["class","bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm font-medium transition",3,"click",4,"ngIf"],["class","text-center py-4 text-gray-500",4,"ngIf"],[1,"text-gray-900","font-bold"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded","text-sm","font-medium","transition",3,"click"],[1,"bg-yellow-600","hover:bg-yellow-700","text-white","px-4","py-2","rounded","text-sm","font-medium","transition",3,"click"],[1,"bg-green-700","hover:bg-green-800","text-white","px-4","py-2","rounded","text-sm","font-medium","transition",3,"click","disabled"],[1,"text-sm","text-gray-500","flex","items-center","gap-1"],[1,"animate-pulse"],[1,"hover:bg-green-50","transition"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900","text-right"],[1,"bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded","text-sm","font-medium","transition",3,"click"],[4,"ngIf"],[1,"mb-4","bg-white","p-4","rounded","border"],[1,"font-medium","text-gray-900","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","items-end",3,"ngSubmit","formGroup"],[1,"md:col-span-2"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","formControlName","description","placeholder","Reason",1,"w-full","border","border-red-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","number","min","0.01","step","0.01","formControlName","amount","placeholder","0.00",1,"w-full","border","border-red-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent"],[1,"md:col-span-3","flex","gap-2"],["type","submit",1,"bg-red-600","hover:bg-red-700","disabled:bg-gray-300","disabled:cursor-not-allowed","text-white","px-6","py-2","rounded","font-medium","transition",3,"disabled"],["type","button",1,"bg-gray-500","hover:bg-gray-600","text-white","px-6","py-2","rounded","font-medium","transition",3,"click"],[1,"text-red-500","text-xs","mt-1"],[1,"bg-red-900","text-white"],[1,"px-6","py-3","text-center","text-xs","font-medium","uppercase","tracking-wider"],["class","hover:bg-red-50 transition",4,"ngFor","ngForOf"],[1,"bg-red-100","font-semibold"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-red-900"],["colspan","2",1,"px-6","py-4","whitespace-nowrap","text-sm","text-red-900","text-right"],[1,"hover:bg-red-50","transition"],[1,"px-6","py-4","whitespace-nowrap","text-center"],["class","text-red-600 hover:text-red-800 font-medium text-sm transition","title","Remove Deduction",3,"click",4,"ngIf"],["title","Remove Deduction",1,"text-red-600","hover:text-red-800","font-medium","text-sm","transition",3,"click"],[1,"text-center","py-8","text-gray-500"],[1,"text-4xl","mb-2","block"],[1,"text-sm"],[1,"bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded","text-sm","font-medium","transition",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],["for","paymentDate",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","date","id","paymentDate","formControlName","date",1,"w-full","border","border-green-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],["for","referenceNumber",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","referenceNumber","formControlName","referenceNumber","placeholder","Check #, Transaction ID, etc.",1,"w-full","border","border-green-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],["for","paymentMethod",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","paymentMethod","formControlName","method",1,"w-full","border","border-green-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],[3,"value",4,"ngFor","ngForOf"],["for","paymentAmount",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","number","id","paymentAmount","formControlName","amount","step","0.01","min","0.01","placeholder","0.00",1,"w-full","border","border-green-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],["for","paymentNotes",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","paymentNotes","formControlName","notes","rows","2","placeholder","Additional notes (optional)",1,"w-full","border","border-green-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],[1,"md:col-span-2","flex","gap-2"],["type","submit",1,"bg-green-600","hover:bg-green-700","disabled:bg-gray-300","disabled:cursor-not-allowed","text-white","px-6","py-2","rounded","font-medium","transition",3,"disabled"],[3,"value"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900","text-right","font-semibold"],[1,"px-6","py-4","text-sm","text-gray-900"],["class","text-red-600 hover:text-red-800 font-medium text-sm transition","title","Remove Payment",3,"click",4,"ngIf"],["title","Remove Payment",1,"text-red-600","hover:text-red-800","font-medium","text-sm","transition",3,"click"],[1,"text-center","py-4","text-gray-500"]],template:function(i,o){i&1&&(t(0,"div",0)(1,"div",1)(2,"a",2)(3,"span",3),n(4,"\u2190"),e(),n(5," Go Back "),e()(),t(6,"h2",4)(7,"span"),n(8,"\u{1F4C4}"),e(),n(9," Driver Invoice Details "),e(),t(10,"div",5),c(11,te,2,0,"button",6)(12,ie,2,0,"button",7)(13,ne,2,1,"button",8)(14,re,4,0,"span",9),e(),t(15,"div",10)(16,"h3",11)(17,"span"),n(18,"\u{1F4CB}"),e(),n(19," Invoice Summary "),e(),t(20,"div",12)(21,"div")(22,"span",13),n(23,"Invoice Number:"),e(),t(24,"p",14),n(25),e()(),t(26,"div")(27,"span",13),n(28,"Driver:"),e(),t(29,"p",14),n(30),e()(),t(31,"div")(32,"span",13),n(33,"Period:"),e(),t(34,"p",14),n(35),u(36,"date"),u(37,"date"),e()(),t(38,"div")(39,"span",13),n(40,"Status:"),e(),t(41,"span",15),n(42),u(43,"titlecase"),e()()()(),t(44,"div",10)(45,"h3",11)(46,"span"),n(47,"\u{1F4E6}"),e(),n(48," Orders Included "),e(),t(49,"div",16)(50,"table",17)(51,"thead",18)(52,"tr")(53,"th",19),n(54,"Order #"),e(),t(55,"th",19),n(56,"Load #"),e(),t(57,"th",19),n(58,"Pickup Location"),e(),t(59,"th",19),n(60,"Dropoff Location"),e(),t(61,"th",20),n(62,"Amount"),e()()(),t(63,"tbody",21),c(64,oe,12,9,"tr",22),e()()()(),t(65,"div",23)(66,"div",24)(67,"h3",25)(68,"span"),n(69,"\u2796"),e(),n(70," Deductions "),e(),c(71,le,3,2,"button",26),e(),c(72,ue,19,4,"div",27)(73,fe,18,4,"div",28)(74,ge,7,0,"div",29),e(),t(75,"div",10)(76,"div",30)(77,"h3",31)(78,"span"),n(79,"\u{1F4B3}"),e(),n(80," Payments "),e(),c(81,ye,3,2,"button",32),e(),c(82,we,34,6,"div",27)(83,Ae,18,1,"div",28)(84,ke,7,0,"div",33),e(),t(85,"div",10)(86,"h3",11)(87,"span"),n(88,"\u{1F4B2}"),e(),n(89," Financial Details "),e(),t(90,"div",12)(91,"div")(92,"span",13),n(93,"Gross Amount:"),e(),t(94,"p",14),n(95),u(96,"currency"),e()(),t(97,"div")(98,"span",13),n(99,"Deductions:"),e(),t(100,"p",14),n(101),u(102,"currency"),e()(),t(103,"div")(104,"span",13),n(105,"Net Amount:"),e(),t(106,"p",34),n(107),u(108,"currency"),e()(),t(109,"div")(110,"span",13),n(111,"Total Payments:"),e(),t(112,"p",14),n(113),u(114,"currency"),e()(),t(115,"div")(116,"span",13),n(117,"Remaining Balance:"),e(),t(118,"p",34),n(119),u(120,"currency"),e()()()()()),i&2&&(d(11),m("ngIf",o.isDraft()),d(),m("ngIf",o.isApproved()),d(),m("ngIf",o.canComplete()),d(),m("ngIf",o.updatingStatus),d(11),p(o.invoice.invoiceNumber),d(5),p(o.invoice.driverName),d(5),S("",I(36,26,o.invoice.periodStartDate,"MMM dd")," - ",I(37,29,o.invoice.periodEndDate,"MMM dd, yyyy"),""),d(6),m("ngClass",o.getStatusClass(o.invoice.status)),d(),C(" ",_(43,32,o.invoice.status)," "),d(22),m("ngForOf",o.invoice.orders),d(7),m("ngIf",o.isDraft()),d(),m("ngIf",o.showAddDeductionForm),d(),m("ngIf",o.invoice.deductions&&o.invoice.deductions.length>0),d(),m("ngIf",!o.invoice.deductions||o.invoice.deductions.length===0),d(7),m("ngIf",!o.isComplete()),d(),m("ngIf",o.showAddPaymentForm),d(),m("ngIf",o.invoice.payments&&o.invoice.payments.length>0),d(),m("ngIf",!o.invoice.payments||o.invoice.payments.length===0),d(11),p(_(96,34,o.invoice.ordersTotal)),d(6),p(_(102,36,o.invoice.deductionsTotal)),d(6),p(_(108,38,o.invoice.netTotal)),d(6),p(_(114,40,o.getTotalPayments())),d(5),w(o.getRemainingBalance()>0?"text-red-600":"text-green-600"),d(),C(" ",_(120,42,o.getRemainingBalance())," "))},dependencies:[P,T,F,A,k,N,B,J,G,H,U,R,L,$,O,q,W,j,z],encapsulation:2})};export{ee as DriverInvoiceDetailsComponent};
