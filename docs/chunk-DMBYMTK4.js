import{b as A,c as L,f as W,i as j,j as k,k as B,n as R}from"./chunk-KM5PBNJX.js";import{e as V}from"./chunk-EPEJBVZF.js";import{k as O,l as F,m as P,o as D}from"./chunk-24NATF5M.js";import{Db as M,Eb as T,Gb as N,Ia as a,L as S,Na as f,Sa as y,X as _,Xa as g,Y as w,cb as l,eb as n,fb as i,jb as C,k as v,mb as p,nb as E,sb as o,tb as m,ub as I,xb as h,yb as b,zb as x}from"./chunk-N44I7YIH.js";var u=class r{getInvoices(){return v(this.invoices)}getInvoice(t){let e=this.invoices.find(s=>s.id===t);if(!e)throw new Error("Invoice not found");return v(e)}constructor(){}invoices=[{id:"c2b3d4e5-f6a7-8901-bc23-de45fa678901",number:"INV-1001",customer:"Acme Inc.",date:"2025-06-01",amount:2500,status:"Paid"},{id:"d3c4b5e6-f7a8-9012-cd34-de45fa678902",number:"INV-1002",customer:"Globex LLC",date:"2025-06-05",amount:1800,status:"Pending"},{id:"e4d5c6f7-g8a9-0123-de45-fa67b890123",number:"INV-1003",customer:"Soylent Corp.",date:"2025-06-10",amount:3200,status:"Overdue"}];static \u0275fac=function(e){return new(e||r)};static \u0275prov=S({token:r,factory:r.\u0275fac,providedIn:"root"})};var H=(r,t,e)=>({"bg-green-100 text-green-800":r,"bg-yellow-100 text-yellow-800":t,"bg-red-100 text-red-800":e});function J(r,t){if(r&1&&(n(0,"option",14),o(1),i()),r&2){let e=t.$implicit;l("value",e),a(),m(e)}}function K(r,t){if(r&1){let e=C();n(0,"tr",15)(1,"td",16),o(2),i(),n(3,"td",17),o(4),i(),n(5,"td",17),o(6),i(),n(7,"td",17),o(8),T(9,"number"),i(),n(10,"td",17)(11,"span",18),o(12),i()(),n(13,"td",17)(14,"button",19),p("click",function(){let d=_(e).$implicit,c=E();return w(c.viewInvoice(d))}),o(15," View "),i()()()}if(r&2){let e=t.$implicit;a(2),m(e.number),a(2),m(e.customer),a(2),m(e.date),a(2),I("$",N(9,6,e.amount,"1.2-2"),""),a(3),l("ngClass",M(9,H,e.status==="Paid",e.status==="Pending",e.status==="Overdue")),a(),I(" ",e.status," ")}}function Q(r,t){r&1&&(n(0,"tr")(1,"td",20),o(2,"No invoices found."),i()())}var G=class r{constructor(t,e){this.router=t;this.invoicesService=e}invoices=[];filteredInvoices=[];statuses=["Paid","Pending","Overdue"];searchTerm="";selectedStatus="";ngOnInit(){this.invoicesService.getInvoices().subscribe(t=>{this.invoices=t,this.filteredInvoices=this.invoices},t=>{console.error("Error loading invoices:",t)})}filterInvoices(){this.filteredInvoices=this.invoices.filter(t=>{let e=this.selectedStatus?t.status===this.selectedStatus:!0,s=this.searchTerm?(t.number+t.customer+t.status).toLowerCase().includes(this.searchTerm.toLowerCase()):!0;return e&&s})}viewInvoice(t){this.router.navigate(["/dispatcher/invoices",t.id])}static \u0275fac=function(e){return new(e||r)(f(V),f(u))};static \u0275cmp=y({type:r,selectors:[["app-invoices"]],decls:30,vars:5,consts:[[1,"flex","items-center","justify-between","mb-6"],[1,"text-3xl","font-bold","text-green-900","flex","items-center","gap-2"],[1,"mb-4","flex","flex-col","sm:flex-row","gap-2","sm:items-center"],["type","text","placeholder","Search by Invoice #, Customer, or Status",1,"border","border-green-200","rounded","p-2","w-full","sm:w-64",3,"ngModelChange","input","ngModel"],[1,"border","border-green-200","rounded","p-2","w-full","sm:w-48",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"overflow-x-auto","rounded-lg","shadow","bg-white"],[1,"min-w-full","divide-y","divide-green-100"],[1,"bg-green-900","text-white"],[1,"px-4","py-2","text-left","font-semibold"],[1,"bg-white","divide-y","divide-green-50"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"hover:bg-green-50","transition"],[1,"px-4","py-2","font-semibold"],[1,"px-4","py-2"],[1,"px-2","py-1","rounded","text-xs","font-semibold",3,"ngClass"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-3","py-1","rounded","shadow",3,"click"],["colspan","6",1,"text-center","text-gray-500","py-6"]],template:function(e,s){e&1&&(n(0,"div",0)(1,"h2",1)(2,"span"),o(3,"\u{1F9FE}"),i(),o(4," Invoices "),i()(),n(5,"div",2)(6,"input",3),x("ngModelChange",function(c){return b(s.searchTerm,c)||(s.searchTerm=c),c}),p("input",function(){return s.filterInvoices()}),i(),n(7,"select",4),x("ngModelChange",function(c){return b(s.selectedStatus,c)||(s.selectedStatus=c),c}),p("change",function(){return s.filterInvoices()}),n(8,"option",5),o(9,"All Statuses"),i(),g(10,J,2,2,"option",6),i()(),n(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),o(16,"Invoice #"),i(),n(17,"th",10),o(18,"Customer"),i(),n(19,"th",10),o(20,"Date"),i(),n(21,"th",10),o(22,"Amount"),i(),n(23,"th",10),o(24,"Status"),i(),n(25,"th",10),o(26,"Actions"),i()()(),n(27,"tbody",11),g(28,K,16,13,"tr",12)(29,Q,3,0,"tr",13),i()()()),e&2&&(a(6),h("ngModel",s.searchTerm),a(),h("ngModel",s.selectedStatus),a(3),l("ngForOf",s.statuses),a(18),l("ngForOf",s.filteredInvoices),a(),l("ngIf",s.filteredInvoices.length===0))},dependencies:[R,k,B,A,j,L,W,D,F,O,P],encapsulation:2})};export{G as InvoicesComponent};
