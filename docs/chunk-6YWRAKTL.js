import{a as k}from"./chunk-OG4YFG5K.js";import{b as O,d as P,g as V,l as W,m as A,n as L,u as j}from"./chunk-2PVWNWUN.js";import"./chunk-XPCCV2FB.js";import{e as D}from"./chunk-3TOGTSGL.js";import"./chunk-FSJQQIFH.js";import{k as M,l as T,m as N,q as F}from"./chunk-QAAQ2EEP.js";import{$ as C,Ab as d,Bb as g,Eb as f,Fb as h,Gb as x,La as a,Lb as w,Nb as y,Pb as E,Qa as u,Va as S,_ as I,_a as v,gb as c,kb as i,lb as t,pb as _,sb as p,tb as b,zb as r}from"./chunk-QJGZKU5F.js";var R=(s,n,e)=>({"bg-green-100 text-green-800":s,"bg-yellow-100 text-yellow-800":n,"bg-red-100 text-red-800":e});function q(s,n){if(s&1&&(i(0,"option",14),r(1),t()),s&2){let e=n.$implicit;c("value",e),a(),d(e)}}function z(s,n){if(s&1){let e=_();i(0,"tr",15)(1,"td",16),r(2),t(),i(3,"td",17),r(4),t(),i(5,"td",17),r(6),t(),i(7,"td",17),r(8),y(9,"number"),t(),i(10,"td",17),r(11),t(),i(12,"td",17)(13,"span",18),r(14),t()(),i(15,"td",17)(16,"button",19),p("click",function(){let m=I(e).$implicit,l=b();return C(l.viewInvoice(m))}),r(17," View "),t()()()}if(s&2){let e=n.$implicit;a(2),d(e.invoiceNumber),a(2),d(e.customer),a(2),d(e.invoiceDate),a(2),g("$",E(9,7,e.amount,"1.2-2"),""),a(3),d(e.factoring?e.factoring:"No"),a(2),c("ngClass",w(10,R,e.status==="Paid",e.status==="Pending",e.status==="Overdue")),a(),g(" ",e.status," ")}}function G(s,n){s&1&&(i(0,"tr")(1,"td",20),r(2,"No invoices found."),t()())}var B=class s{constructor(n,e){this.router=n;this.invoiceService=e}invoices=[];filteredInvoices=[];statuses=["Pending","Overdue","Paid"];searchTerm="";selectedStatus="";ngOnInit(){this.invoiceService.getCarrierInvoices().subscribe(n=>{this.invoices=n,this.filteredInvoices=this.invoices},n=>{console.error("Error loading invoices:",n)})}filterInvoices(){this.filteredInvoices=this.invoices.filter(n=>{let e=this.selectedStatus?n.status===this.selectedStatus:!0,o=this.searchTerm?(n.invoiceNumber+n.customer+n.status).toLowerCase().includes(this.searchTerm.toLowerCase()):!0;return e&&o})}viewInvoice(n){this.router.navigate(["/dispatcher/carrier-invoices",n.id])}static \u0275fac=function(e){return new(e||s)(u(D),u(k))};static \u0275cmp=S({type:s,selectors:[["app-carrier-invoices"]],decls:32,vars:5,consts:[[1,"flex","items-center","justify-between","mb-6"],[1,"text-3xl","font-bold","text-green-900","flex","items-center","gap-2"],[1,"mb-4","flex","flex-col","sm:flex-row","gap-2","sm:items-center"],["type","text","placeholder","Search by Invoice #, Customer, or Status",1,"border","border-green-200","rounded","p-2","w-full","sm:w-64",3,"ngModelChange","input","ngModel"],[1,"border","border-green-200","rounded","p-2","w-full","sm:w-48",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"overflow-x-auto","rounded-lg","shadow","bg-white"],[1,"min-w-full","divide-y","divide-green-100"],[1,"bg-green-900","text-white"],[1,"px-4","py-2","text-left","font-semibold"],[1,"bg-white","divide-y","divide-green-50"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"hover:bg-green-50","transition"],[1,"px-4","py-2","font-semibold"],[1,"px-4","py-2"],[1,"px-2","py-1","rounded","text-xs","font-semibold",3,"ngClass"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-3","py-1","rounded","shadow",3,"click"],["colspan","6",1,"text-center","text-gray-500","py-6"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"h2",1)(2,"span"),r(3,"\u{1F9FE}"),t(),r(4,"Carrier Invoices "),t()(),i(5,"div",2)(6,"input",3),x("ngModelChange",function(l){return h(o.searchTerm,l)||(o.searchTerm=l),l}),p("input",function(){return o.filterInvoices()}),t(),i(7,"select",4),x("ngModelChange",function(l){return h(o.selectedStatus,l)||(o.selectedStatus=l),l}),p("change",function(){return o.filterInvoices()}),i(8,"option",5),r(9,"All Statuses"),t(),v(10,q,2,2,"option",6),t()(),i(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),r(16,"Invoice #"),t(),i(17,"th",10),r(18,"Customer"),t(),i(19,"th",10),r(20,"Date"),t(),i(21,"th",10),r(22,"Amount"),t(),i(23,"th",10),r(24,"Factoring?"),t(),i(25,"th",10),r(26,"Status"),t(),i(27,"th",10),r(28,"Actions"),t()()(),i(29,"tbody",11),v(30,z,18,14,"tr",12)(31,G,3,0,"tr",13),t()()()),e&2&&(a(6),f("ngModel",o.searchTerm),a(),f("ngModel",o.selectedStatus),a(3),c("ngForOf",o.statuses),a(20),c("ngForOf",o.filteredInvoices),a(),c("ngIf",o.filteredInvoices.length===0))},dependencies:[j,A,L,O,W,P,V,F,T,M,N],encapsulation:2})};export{B as CarrierInvoicesComponent};
