import{a as w}from"./chunk-ANJWOLEG.js";import{a as C}from"./chunk-OG4YFG5K.js";import"./chunk-XPCCV2FB.js";import{c as h,f as b}from"./chunk-3TOGTSGL.js";import"./chunk-FSJQQIFH.js";import{k as S,l as D,o as y,p as E,r as I}from"./chunk-QAAQ2EEP.js";import{Ab as d,Bb as f,Cb as s,La as r,Nb as l,Ob as p,Pb as x,Qa as c,Va as u,_a as g,gb as v,kb as i,lb as e,zb as t}from"./chunk-QJGZKU5F.js";function N(m,a){if(m&1&&(i(0,"tr",19)(1,"td",20),t(2),e(),i(3,"td",20),t(4),e(),i(5,"td",20),t(6),e(),i(7,"td",21),t(8),l(9,"currency"),e()()),m&2){let n=a.$implicit;r(2),d(n.orderNumber),r(2),s("",n.originCity,", ",n.originState,""),r(2),s("",n.destinationCity,", ",n.destinationState,""),r(2),d(p(9,6,n.rate))}}var B=class m{constructor(a,n){this.route=a;this.invoiceService=n}invoice=new w;ngOnInit(){let a=this.route.snapshot.paramMap.get("id");if(!a){console.error("No invoice ID provided");return}this.loadInvoiceDetails(a)}loadInvoiceDetails(a){a&&this.invoiceService.getDriverInvoice(a).subscribe({next:n=>{n?this.invoice=n:console.error("Invoice not found")},error:n=>{console.error("Error loading invoice details",n)}})}getStatusClass(a){switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}static \u0275fac=function(n){return new(n||m)(c(h),c(C))};static \u0275cmp=u({type:m,selectors:[["app-driver-invoice-details"]],decls:82,vars:24,consts:[[1,"max-w-3xl","mx-auto","p-6","bg-white","rounded-xl","shadow-lg"],[1,"mb-4"],["routerLink","/dispatcher/driver-invoices",1,"text-green-800","hover:underline","flex","items-center","gap-1","font-medium"],[1,"text-xl"],[1,"text-3xl","font-bold","mb-6","text-green-900","flex","items-center","gap-2"],[1,"mb-6","bg-green-50","rounded","p-4"],[1,"font-semibold","text-lg","mb-3","text-green-900","flex","items-center","gap-2","bg-green-100","px-3","py-2","rounded"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"font-semibold"],[1,"text-gray-900"],[1,"px-2","py-1","text-xs","font-medium","rounded-full",3,"ngClass"],[1,"text-gray-900","font-bold"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-green-900","text-white"],[1,"px-6","py-3","text-left","text-xs","font-medium","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[1,"hover:bg-green-50","transition"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900","text-right"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"div",1)(2,"a",2)(3,"span",3),t(4,"\u2190"),e(),t(5," Go Back "),e()(),i(6,"h2",4)(7,"span"),t(8,"\u{1F4C4}"),e(),t(9," Invoice Details "),e(),i(10,"div",5)(11,"h3",6)(12,"span"),t(13,"\u{1F4CB}"),e(),t(14," Invoice Summary "),e(),i(15,"div",7)(16,"div")(17,"span",8),t(18,"Invoice Number:"),e(),i(19,"p",9),t(20),e()(),i(21,"div")(22,"span",8),t(23,"Driver:"),e(),i(24,"p",9),t(25),e()(),i(26,"div")(27,"span",8),t(28,"Period:"),e(),i(29,"p",9),t(30),l(31,"date"),l(32,"date"),e()(),i(33,"div")(34,"span",8),t(35,"Status:"),e(),i(36,"span",10),t(37),l(38,"titlecase"),e()()()(),i(39,"div",5)(40,"h3",6)(41,"span"),t(42,"\u{1F4B2}"),e(),t(43," Financial Details "),e(),i(44,"div",7)(45,"div")(46,"span",8),t(47,"Gross Amount:"),e(),i(48,"p",9),t(49),l(50,"currency"),e()(),i(51,"div")(52,"span",8),t(53,"Deductions:"),e(),i(54,"p",9),t(55),l(56,"currency"),e()(),i(57,"div")(58,"span",8),t(59,"Net Amount:"),e(),i(60,"p",11),t(61),l(62,"currency"),e()()()(),i(63,"div",5)(64,"h3",6)(65,"span"),t(66,"\u{1F4E6}"),e(),t(67," Orders Included "),e(),i(68,"div",12)(69,"table",13)(70,"thead",14)(71,"tr")(72,"th",15),t(73,"Order ID"),e(),i(74,"th",15),t(75,"Pickup Location"),e(),i(76,"th",15),t(77,"Dropoff Location"),e(),i(78,"th",16),t(79,"Amount"),e()()(),i(80,"tbody",17),g(81,N,10,8,"tr",18),e()()()()()),n&2&&(r(20),d(o.invoice.invoiceNumber),r(5),d(o.invoice.driverName),r(5),s("",x(31,10,o.invoice.periodStartDate,"MMM dd")," - ",x(32,13,o.invoice.periodEndDate,"MMM dd, yyyy"),""),r(6),v("ngClass",o.getStatusClass(o.invoice.status)),r(),f(" ",p(38,16,o.invoice.status)," "),r(12),d(p(50,18,o.invoice.ordersTotal)),r(6),d(p(56,20,o.invoice.deductionsTotal)),r(6),d(p(62,22,o.invoice.netTotal)),r(20),v("ngForOf",o.invoice.orders))},dependencies:[E,D,S,y,I,b],encapsulation:2})};export{B as DriverInvoiceDetailsComponent};
