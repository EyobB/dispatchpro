import{a as Q,b as X,c as Y}from"./chunk-IEI5TKEC.js";import{a as K}from"./chunk-KNI3T4OS.js";import{b as R,c as y,d as O,e as q,h as G,i as L,j,k as z,l as $,m as H,n as U,p as W,t as Z,v as J}from"./chunk-VDT5TDP2.js";import{a as M}from"./chunk-A3LUHI23.js";import"./chunk-XPCCV2FB.js";import{c as V,f as B}from"./chunk-KM6ROI6B.js";import"./chunk-2DXK6GBI.js";import{k as F,l as T,m as A,o as k,p as P,r as N}from"./chunk-TKJYB7RJ.js";import{$ as f,Ab as D,Bb as I,Ka as d,Nb as u,Ob as _,Pa as S,Pb as C,Ua as E,Za as c,_ as x,fb as m,ib as w,jb as t,kb as e,lb as b,ob as h,rb as g,sb as s,yb as n,zb as p}from"./chunk-ITTAAY47.js";function te(r,a){if(r&1&&(t(0,"tr",35)(1,"td",36),n(2),e(),t(3,"td",36),n(4),e(),t(5,"td",36),n(6),e(),t(7,"td",36),n(8),e(),t(9,"td",37),n(10),u(11,"currency"),e()()),r&2){let i=a.$implicit;d(2),p(i.orderNumber),d(2),p(i.loadNumber),d(2),I("",i.originCity,", ",i.originState," "),d(2),I("",i.destinationCity,", ",i.destinationState,""),d(2),D("",_(11,7,i.orderAmount)," ")}}function ie(r,a){r&1&&(t(0,"span"),n(1,"+ Add Deduction"),e())}function ne(r,a){r&1&&(t(0,"span"),n(1,"Cancel"),e())}function re(r,a){if(r&1){let i=h();t(0,"button",38),g("click",function(){x(i);let l=s();return f(l.toggleAddDeductionForm())}),c(1,ie,2,0,"span",39)(2,ne,2,0,"span",39),e()}if(r&2){let i=s();d(),m("ngIf",!i.showAddDeductionForm),d(),m("ngIf",i.showAddDeductionForm)}}function oe(r,a){r&1&&(t(0,"div",51),n(1,"Description is required"),e())}function ae(r,a){r&1&&(t(0,"span"),n(1,"Amount is required"),e())}function de(r,a){r&1&&(t(0,"span"),n(1,"Amount must be greater than 0"),e())}function le(r,a){if(r&1&&(t(0,"div",51),c(1,ae,2,0,"span",39)(2,de,2,0,"span",39),e()),r&2){let i,o,l=s(2);d(),m("ngIf",(i=l.deductionForm.get("amount"))==null||i.errors==null?null:i.errors.required),d(),m("ngIf",(o=l.deductionForm.get("amount"))==null||o.errors==null?null:o.errors.min)}}function me(r,a){if(r&1){let i=h();t(0,"div",40)(1,"h4",41),n(2,"Add New Deduction"),e(),t(3,"form",42),g("ngSubmit",function(){x(i);let l=s();return f(l.addDeduction())}),t(4,"div",43)(5,"label",44),n(6,"Description *"),e(),b(7,"input",45),c(8,oe,2,0,"div",46),e(),t(9,"div")(10,"label",44),n(11,"Amount *"),e(),b(12,"input",47),c(13,le,3,2,"div",46),e(),t(14,"div",48)(15,"button",49),n(16,"Add Deduction"),e(),t(17,"button",50),g("click",function(){x(i);let l=s();return f(l.toggleAddDeductionForm())}),n(18,"Cancel"),e()()()()}if(r&2){let i,o,l=s();d(3),m("formGroup",l.deductionForm),d(5),m("ngIf",((i=l.deductionForm.get("description"))==null?null:i.touched)&&((i=l.deductionForm.get("description"))==null?null:i.errors)),d(5),m("ngIf",((o=l.deductionForm.get("amount"))==null?null:o.touched)&&((o=l.deductionForm.get("amount"))==null?null:o.errors)),d(2),m("disabled",!l.deductionForm.valid)}}function se(r,a){if(r&1){let i=h();t(0,"button",61),g("click",function(){x(i);let l=s().$implicit,v=s(2);return f(v.removeDeduction(l.id))}),n(1,"Remove"),e()}}function ce(r,a){if(r&1&&(t(0,"tr",58)(1,"td",36),n(2),e(),t(3,"td",37),n(4),u(5,"currency"),e(),t(6,"td",59),c(7,se,2,0,"button",60),e()()),r&2){let i=a.$implicit,o=s(2);d(2),p(i.description),d(2),D("",_(5,3,i.amount)," "),d(3),m("ngIf",o.isDraft())}}function pe(r,a){if(r&1&&(t(0,"div",11)(1,"table",12)(2,"thead",52)(3,"tr")(4,"th",14),n(5,"Description"),e(),t(6,"th",15),n(7,"Amount"),e(),t(8,"th",53),n(9,"Actions"),e()()(),t(10,"tbody",16),c(11,ce,8,5,"tr",54),t(12,"tr",55)(13,"td",56),n(14,"Total Deductions"),e(),t(15,"td",57),n(16),u(17,"currency"),e()()()()()),r&2){let i=s();d(11),m("ngForOf",i.invoice.deductions),d(5),D(" ",_(17,2,i.invoice.deductionsTotal),"")}}function ue(r,a){r&1&&(t(0,"div",62)(1,"span",63),n(2,"\u2796"),e(),t(3,"p"),n(4,"No deductions applied to this invoice."),e(),t(5,"p",64),n(6,'Click "Add Deduction" to create one.'),e()())}function ve(r,a){r&1&&(t(0,"span"),n(1,"+ Add Payment"),e())}function xe(r,a){r&1&&(t(0,"span"),n(1,"Cancel"),e())}function fe(r,a){if(r&1){let i=h();t(0,"button",65),g("click",function(){x(i);let l=s();return f(l.toggleAddPaymentForm())}),c(1,ve,2,0,"span",39)(2,xe,2,0,"span",39),e()}if(r&2){let i=s();d(),m("ngIf",!i.showAddPaymentForm),d(),m("ngIf",i.showAddPaymentForm)}}function ge(r,a){r&1&&(t(0,"div",51),n(1," Date is required "),e())}function _e(r,a){r&1&&(t(0,"div",51),n(1," Reference number is required "),e())}function he(r,a){if(r&1&&(t(0,"option",80),n(1),e()),r&2){let i=a.$implicit;m("value",i),d(),p(i)}}function ye(r,a){r&1&&(t(0,"span"),n(1,"Amount is required"),e())}function be(r,a){r&1&&(t(0,"span"),n(1,"Amount must be greater than 0"),e())}function De(r,a){if(r&1&&(t(0,"div",51),c(1,ye,2,0,"span",39)(2,be,2,0,"span",39),e()),r&2){let i,o,l=s(2);d(),m("ngIf",(i=l.paymentForm.get("amount"))==null||i.errors==null?null:i.errors.required),d(),m("ngIf",(o=l.paymentForm.get("amount"))==null||o.errors==null?null:o.errors.min)}}function Se(r,a){if(r&1){let i=h();t(0,"div",40)(1,"h4",41),n(2,"Add New Payment"),e(),t(3,"form",66),g("ngSubmit",function(){x(i);let l=s();return f(l.addPayment())}),t(4,"div")(5,"label",67),n(6,"Date *"),e(),b(7,"input",68),c(8,ge,2,0,"div",46),e(),t(9,"div")(10,"label",69),n(11,"Reference # *"),e(),b(12,"input",70),c(13,_e,2,0,"div",46),e(),t(14,"div")(15,"label",71),n(16,"Payment Method *"),e(),t(17,"select",72),c(18,he,2,2,"option",73),e()(),t(19,"div")(20,"label",74),n(21,"Amount *"),e(),b(22,"input",75),c(23,De,3,2,"div",46),e(),t(24,"div",43)(25,"label",76),n(26,"Notes"),e(),t(27,"textarea",77),n(28,"          "),e()(),t(29,"div",78)(30,"button",79),n(31," Add Payment "),e(),t(32,"button",50),g("click",function(){x(i);let l=s();return f(l.toggleAddPaymentForm())}),n(33," Cancel "),e()()()()}if(r&2){let i,o,l,v=s();d(3),m("formGroup",v.paymentForm),d(5),m("ngIf",((i=v.paymentForm.get("date"))==null?null:i.touched)&&((i=v.paymentForm.get("date"))==null?null:i.errors)),d(5),m("ngIf",((o=v.paymentForm.get("referenceNumber"))==null?null:o.touched)&&((o=v.paymentForm.get("referenceNumber"))==null?null:o.errors)),d(5),m("ngForOf",v.paymentMethods),d(5),m("ngIf",((l=v.paymentForm.get("amount"))==null?null:l.touched)&&((l=v.paymentForm.get("amount"))==null?null:l.errors)),d(7),m("disabled",!v.paymentForm.valid)}}function Ie(r,a){if(r&1){let i=h();t(0,"button",84),g("click",function(){x(i);let l=s().$implicit,v=s(2);return f(v.removePayment(l.id))}),n(1," Remove "),e()}}function Ce(r,a){if(r&1&&(t(0,"tr",35)(1,"td",36),n(2),u(3,"date"),e(),t(4,"td",36),n(5),e(),t(6,"td",36),n(7),e(),t(8,"td",81),n(9),u(10,"currency"),e(),t(11,"td",82),n(12),e(),t(13,"td",59),c(14,Ie,2,0,"button",83),e()()),r&2){let i=a.$implicit,o=s(2);d(2),p(C(3,6,i.date,"MMM dd, yyyy")),d(3),p(i.referenceNumber),d(2),p(i.method),d(2),p(_(10,9,i.amount)),d(3),p(i.notes||"-"),d(2),m("ngIf",!o.isComplete())}}function Ee(r,a){if(r&1&&(t(0,"div",11)(1,"table",12)(2,"thead",13)(3,"tr")(4,"th",14),n(5,"Date"),e(),t(6,"th",14),n(7,"Reference #"),e(),t(8,"th",14),n(9,"Method"),e(),t(10,"th",15),n(11,"Amount"),e(),t(12,"th",14),n(13,"Notes"),e(),t(14,"th",53),n(15,"Actions"),e()()(),t(16,"tbody",16),c(17,Ce,15,11,"tr",17),e()()()),r&2){let i=s();d(17),m("ngForOf",i.invoice.payments)}}function we(r,a){r&1&&(t(0,"div",85)(1,"span",63),n(2,"\u{1F4B3}"),e(),t(3,"p"),n(4,"No payments recorded for this invoice."),e(),t(5,"p",64),n(6,'Click "Add Payment" to record a payment.'),e()())}function Fe(r,a){if(r&1){let i=h();t(0,"button",86),g("click",function(){x(i);let l=s();return f(l.approveInvoice())}),n(1," Approve "),e()}}function Te(r,a){if(r&1){let i=h();t(0,"button",87),g("click",function(){x(i);let l=s();return f(l.revertToDraft())}),n(1," Revert to Draft "),e()}}function Ae(r,a){if(r&1){let i=h();t(0,"button",88),g("click",function(){x(i);let l=s();return f(l.completeInvoice())}),n(1," Complete "),e()}if(r&2){let i=s();m("disabled",i.updatingStatus)}}function ke(r,a){r&1&&(t(0,"span",89)(1,"span",90),n(2,"\u23F3"),e(),n(3," Updating... "),e())}var ee=class r{constructor(a,i,o,l){this.route=a;this.invoiceService=i;this.fb=o;this.toast=l}invoice=new Q;showAddPaymentForm=!1;showAddDeductionForm=!1;paymentForm;deductionForm;paymentMethods=["Check","Zelle","ACH","Wire Transfer","Cash","Credit Card","Other"];updatingStatus=!1;ngOnInit(){this.initializePaymentForm(),this.initializeDeductionForm();let a=this.route.snapshot.paramMap.get("id");if(!a){console.error("No invoice ID provided");return}this.loadInvoiceDetails(a)}initializePaymentForm(){this.paymentForm=this.fb.group({date:["",y.required],referenceNumber:["",y.required],method:["Check",y.required],amount:["",[y.required,y.min(.01)]],notes:[""]})}initializeDeductionForm(){this.deductionForm=this.fb.group({description:["",y.required],amount:["",[y.required,y.min(.01)]]})}loadInvoiceDetails(a){a&&this.invoiceService.getDriverInvoice(a).subscribe({next:i=>{i?this.invoice=i:console.error("Invoice not found")},error:i=>{console.error("Error loading invoice details",i)}})}getStatusClass(a){switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-green-100 text-green-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}toggleAddPaymentForm(){if(this.showAddPaymentForm=!this.showAddPaymentForm,this.showAddPaymentForm){let a=new Date().toISOString().split("T")[0];this.paymentForm.patchValue({date:a})}else this.paymentForm.reset(),this.initializePaymentForm()}toggleAddDeductionForm(){this.showAddDeductionForm=!this.showAddDeductionForm,this.showAddDeductionForm||(this.deductionForm.reset(),this.initializeDeductionForm())}addPayment(){if(this.paymentForm.valid){let a=new Y;a.date=this.paymentForm.value.date,a.referenceNumber=this.paymentForm.value.referenceNumber,a.method=this.paymentForm.value.method,a.amount=parseFloat(this.paymentForm.value.amount),a.notes=this.paymentForm.value.notes,this.invoiceService.addPayment(this.invoice.id,a).subscribe({next:i=>{i?(this.invoice.payments.push(i),this.toast.showSuccess("Payment added successfully")):this.toast.showError("Failed to add payment")},error:i=>{console.error("Error adding payment",i),this.toast.showError("Failed to add payment")}}),this.toggleAddPaymentForm()}}removePayment(a){let i=this.invoice.payments.findIndex(o=>o.id===a);i>-1&&(this.invoice.payments.splice(i,1),this.invoiceService.removePayment(this.invoice.id,a).subscribe({next:()=>{this.toast.showSuccess("Payment removed")},error:o=>{console.error("Error removing payment",o),this.toast.showError("Failed to remove payment")}}))}addDeduction(){if(this.deductionForm.valid){let a=new X;a.description=this.deductionForm.value.description,a.amount=parseFloat(this.deductionForm.value.amount),this.invoiceService.addDeduction(this.invoice.id,a).subscribe({next:i=>{i?(this.invoice.deductions.push(i),this.recalculateTotals(),this.toast.showSuccess("Deduction added")):this.toast.showError("Failed to add deduction")},error:i=>{console.error("Error adding deduction",i),this.toast.showError("Failed to add deduction")}}),this.toggleAddDeductionForm()}}removeDeduction(a){let i=this.invoice.deductions.findIndex(o=>o.id===a);if(i>-1){let o=this.invoice.deductions.splice(i,1)[0];this.invoiceService.removeDeduction(this.invoice.id,a).subscribe({next:()=>{this.recalculateTotals(),this.toast.showSuccess("Deduction removed")},error:l=>{console.error("Error removing deduction",l),this.invoice.deductions.splice(i,0,o),this.toast.showError("Failed to remove deduction"),this.recalculateTotals()}})}}recalculateTotals(){this.invoice.deductionsTotal=this.invoice.deductions.reduce((a,i)=>a+i.amount,0),this.invoice.netTotal=this.invoice.ordersTotal-this.invoice.deductionsTotal}getTotalPayments(){return!this.invoice.payments||this.invoice.payments.length===0?0:this.invoice.payments.reduce((a,i)=>a+i.amount,0)}getRemainingBalance(){return this.invoice.netTotal-this.getTotalPayments()}isDraft(){return this.invoice?.status?.toLowerCase()==="draft"}isApproved(){return this.invoice?.status?.toLowerCase()==="approved"}isPaid(){return this.invoice?.status?.toLowerCase()==="paid"}isComplete(){return this.invoice?.status?.toLowerCase()==="completed"}isFullyPaid(){return this.getRemainingBalance()<=0}canComplete(){return(this.isApproved()||this.isPaid())&&this.isFullyPaid()&&!this.isComplete()}approveInvoice(){this.isDraft()&&confirm("Approve this invoice?")&&this.updateInvoiceStatus("Approved")}revertToDraft(){this.isApproved()&&confirm("Revert invoice back to Draft?")&&this.updateInvoiceStatus("Draft")}completeInvoice(){this.canComplete()&&confirm("Mark this fully paid invoice as Complete?")&&this.updateInvoiceStatus("Completed")}updateInvoiceStatus(a){this.invoice&&(this.updatingStatus=!0,this.invoiceService.updateStatus(this.invoice.id,a).subscribe({next:i=>{this.invoice=i,this.updatingStatus=!1},error:()=>{this.updatingStatus=!1}}))}static \u0275fac=function(i){return new(i||r)(S(V),S(K),S(Z),S(M))};static \u0275cmp=E({type:r,selectors:[["app-driver-invoice-details"]],decls:121,vars:44,consts:[[1,"max-w-3xl","mx-auto","p-6","bg-white","rounded-xl","shadow-lg"],[1,"mb-4"],["routerLink","/dispatcher/driver-invoices",1,"text-green-800","hover:underline","flex","items-center","gap-1","font-medium"],[1,"text-xl"],[1,"text-3xl","font-bold","mb-2","text-green-900","flex","items-center","gap-2"],[1,"mb-6","bg-green-50","rounded","p-4"],[1,"font-semibold","text-lg","mb-3","text-green-900","flex","items-center","gap-2","bg-green-100","px-3","py-2","rounded"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"font-semibold"],[1,"text-gray-900"],[1,"px-2","py-1","text-xs","font-medium","rounded-full",3,"ngClass"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-green-900","text-white"],[1,"px-6","py-3","text-left","text-xs","font-medium","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-green-50 transition",4,"ngFor","ngForOf"],[1,"mb-6","bg-red-50","rounded","p-4"],[1,"flex","justify-between","items-center","mb-3","bg-red-100","px-3","py-2","rounded"],[1,"font-semibold","text-lg","text-red-900","flex","items-center","gap-2"],["class","bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-medium transition",3,"click",4,"ngIf"],["class","mb-4 bg-white p-4 rounded border",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],["class","text-center py-8 text-gray-500",4,"ngIf"],[1,"flex","justify-between","items-center","mb-3","bg-green-100","px-3","py-2","rounded"],[1,"font-semibold","text-lg","text-green-900","flex","items-center","gap-2"],["class","bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm font-medium transition",3,"click",4,"ngIf"],["class","text-center py-4 text-gray-500",4,"ngIf"],[1,"text-gray-900","font-bold"],[1,"mb-6","flex","flex-wrap","gap-3","items-center"],["class","bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium transition",3,"click",4,"ngIf"],["class","bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded text-sm font-medium transition",3,"click",4,"ngIf"],["class","bg-green-700 hover:bg-green-800 text-white px-4 py-2 rounded text-sm font-medium transition",3,"disabled","click",4,"ngIf"],["class","text-sm text-gray-500 flex items-center gap-1",4,"ngIf"],[1,"hover:bg-green-50","transition"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900","text-right"],[1,"bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded","text-sm","font-medium","transition",3,"click"],[4,"ngIf"],[1,"mb-4","bg-white","p-4","rounded","border"],[1,"font-medium","text-gray-900","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","items-end",3,"ngSubmit","formGroup"],[1,"md:col-span-2"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","formControlName","description","placeholder","Reason",1,"w-full","border","border-red-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","number","min","0.01","step","0.01","formControlName","amount","placeholder","0.00",1,"w-full","border","border-red-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent"],[1,"md:col-span-3","flex","gap-2"],["type","submit",1,"bg-red-600","hover:bg-red-700","disabled:bg-gray-300","disabled:cursor-not-allowed","text-white","px-6","py-2","rounded","font-medium","transition",3,"disabled"],["type","button",1,"bg-gray-500","hover:bg-gray-600","text-white","px-6","py-2","rounded","font-medium","transition",3,"click"],[1,"text-red-500","text-xs","mt-1"],[1,"bg-red-900","text-white"],[1,"px-6","py-3","text-center","text-xs","font-medium","uppercase","tracking-wider"],["class","hover:bg-red-50 transition",4,"ngFor","ngForOf"],[1,"bg-red-100","font-semibold"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-red-900"],["colspan","2",1,"px-6","py-4","whitespace-nowrap","text-sm","text-red-900","text-right"],[1,"hover:bg-red-50","transition"],[1,"px-6","py-4","whitespace-nowrap","text-center"],["class","text-red-600 hover:text-red-800 font-medium text-sm transition","title","Remove Deduction",3,"click",4,"ngIf"],["title","Remove Deduction",1,"text-red-600","hover:text-red-800","font-medium","text-sm","transition",3,"click"],[1,"text-center","py-8","text-gray-500"],[1,"text-4xl","mb-2","block"],[1,"text-sm"],[1,"bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded","text-sm","font-medium","transition",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],["for","paymentDate",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","date","id","paymentDate","formControlName","date",1,"w-full","border","border-green-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],["for","referenceNumber",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","referenceNumber","formControlName","referenceNumber","placeholder","Check #, Transaction ID, etc.",1,"w-full","border","border-green-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],["for","paymentMethod",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","paymentMethod","formControlName","method",1,"w-full","border","border-green-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],[3,"value",4,"ngFor","ngForOf"],["for","paymentAmount",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","number","id","paymentAmount","formControlName","amount","step","0.01","min","0.01","placeholder","0.00",1,"w-full","border","border-green-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],["for","paymentNotes",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","paymentNotes","formControlName","notes","rows","2","placeholder","Additional notes (optional)",1,"w-full","border","border-green-200","rounded","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:border-transparent"],[1,"md:col-span-2","flex","gap-2"],["type","submit",1,"bg-green-600","hover:bg-green-700","disabled:bg-gray-300","disabled:cursor-not-allowed","text-white","px-6","py-2","rounded","font-medium","transition",3,"disabled"],[3,"value"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900","text-right","font-semibold"],[1,"px-6","py-4","text-sm","text-gray-900"],["class","text-red-600 hover:text-red-800 font-medium text-sm transition","title","Remove Payment",3,"click",4,"ngIf"],["title","Remove Payment",1,"text-red-600","hover:text-red-800","font-medium","text-sm","transition",3,"click"],[1,"text-center","py-4","text-gray-500"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded","text-sm","font-medium","transition",3,"click"],[1,"bg-yellow-600","hover:bg-yellow-700","text-white","px-4","py-2","rounded","text-sm","font-medium","transition",3,"click"],[1,"bg-green-700","hover:bg-green-800","text-white","px-4","py-2","rounded","text-sm","font-medium","transition",3,"click","disabled"],[1,"text-sm","text-gray-500","flex","items-center","gap-1"],[1,"animate-pulse"]],template:function(i,o){i&1&&(t(0,"div",0)(1,"div",1)(2,"a",2)(3,"span",3),n(4,"\u2190"),e(),n(5," Go Back "),e()(),t(6,"h2",4)(7,"span"),n(8,"\u{1F4C4}"),e(),n(9," Driver Invoice Details "),e(),t(10,"div",5)(11,"h3",6)(12,"span"),n(13,"\u{1F4CB}"),e(),n(14," Invoice Summary "),e(),t(15,"div",7)(16,"div")(17,"span",8),n(18,"Invoice Number:"),e(),t(19,"p",9),n(20),e()(),t(21,"div")(22,"span",8),n(23,"Driver:"),e(),t(24,"p",9),n(25),e()(),t(26,"div")(27,"span",8),n(28,"Period:"),e(),t(29,"p",9),n(30),u(31,"date"),u(32,"date"),e()(),t(33,"div")(34,"span",8),n(35,"Status:"),e(),t(36,"span",10),n(37),u(38,"titlecase"),e()()()(),t(39,"div",5)(40,"h3",6)(41,"span"),n(42,"\u{1F4E6}"),e(),n(43," Orders Included "),e(),t(44,"div",11)(45,"table",12)(46,"thead",13)(47,"tr")(48,"th",14),n(49,"Order #"),e(),t(50,"th",14),n(51,"Load #"),e(),t(52,"th",14),n(53,"Pickup Location"),e(),t(54,"th",14),n(55,"Dropoff Location"),e(),t(56,"th",15),n(57,"Amount"),e()()(),t(58,"tbody",16),c(59,te,12,9,"tr",17),e()()()(),t(60,"div",18)(61,"div",19)(62,"h3",20)(63,"span"),n(64,"\u2796"),e(),n(65," Deductions "),e(),c(66,re,3,2,"button",21),e(),c(67,me,19,4,"div",22)(68,pe,18,4,"div",23)(69,ue,7,0,"div",24),e(),t(70,"div",5)(71,"div",25)(72,"h3",26)(73,"span"),n(74,"\u{1F4B3}"),e(),n(75," Payments "),e(),c(76,fe,3,2,"button",27),e(),c(77,Se,34,6,"div",22)(78,Ee,18,1,"div",23)(79,we,7,0,"div",28),e(),t(80,"div",5)(81,"h3",6)(82,"span"),n(83,"\u{1F4B2}"),e(),n(84," Financial Details "),e(),t(85,"div",7)(86,"div")(87,"span",8),n(88,"Gross Amount:"),e(),t(89,"p",9),n(90),u(91,"currency"),e()(),t(92,"div")(93,"span",8),n(94,"Deductions:"),e(),t(95,"p",9),n(96),u(97,"currency"),e()(),t(98,"div")(99,"span",8),n(100,"Net Amount:"),e(),t(101,"p",29),n(102),u(103,"currency"),e()(),t(104,"div")(105,"span",8),n(106,"Total Payments:"),e(),t(107,"p",9),n(108),u(109,"currency"),e()(),t(110,"div")(111,"span",8),n(112,"Remaining Balance:"),e(),t(113,"p",29),n(114),u(115,"currency"),e()(),t(116,"div",30),c(117,Fe,2,0,"button",31)(118,Te,2,0,"button",32)(119,Ae,2,1,"button",33)(120,ke,4,0,"span",34),e()()()()),i&2&&(d(20),p(o.invoice.invoiceNumber),d(5),p(o.invoice.driverName),d(5),I("",C(31,26,o.invoice.periodStartDate,"MMM dd")," - ",C(32,29,o.invoice.periodEndDate,"MMM dd, yyyy"),""),d(6),m("ngClass",o.getStatusClass(o.invoice.status)),d(),D(" ",_(38,32,o.invoice.status)," "),d(22),m("ngForOf",o.invoice.orders),d(7),m("ngIf",o.isDraft()),d(),m("ngIf",o.showAddDeductionForm),d(),m("ngIf",o.invoice.deductions&&o.invoice.deductions.length>0),d(),m("ngIf",!o.invoice.deductions||o.invoice.deductions.length===0),d(7),m("ngIf",!o.isComplete()),d(),m("ngIf",o.showAddPaymentForm),d(),m("ngIf",o.invoice.payments&&o.invoice.payments.length>0),d(),m("ngIf",!o.invoice.payments||o.invoice.payments.length===0),d(11),p(_(91,34,o.invoice.ordersTotal)),d(6),p(_(97,36,o.invoice.deductionsTotal)),d(6),p(_(103,38,o.invoice.netTotal)),d(6),p(_(109,40,o.getTotalPayments())),d(5),w(o.getRemainingBalance()>0?"text-red-600":"text-green-600"),d(),D(" ",_(115,42,o.getRemainingBalance())," "),d(3),m("ngIf",o.isDraft()),d(),m("ngIf",o.isApproved()),d(),m("ngIf",o.canComplete()),d(),m("ngIf",o.updatingStatus))},dependencies:[P,T,F,A,k,N,B,J,G,H,U,R,L,$,O,q,W,j,z],encapsulation:2})};export{ee as DriverInvoiceDetailsComponent};
